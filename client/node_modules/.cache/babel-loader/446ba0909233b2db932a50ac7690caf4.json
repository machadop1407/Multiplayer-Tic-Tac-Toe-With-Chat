{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nimport { useEffect } from 'react';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useChannelUpdatedListener = function (setChannels, customHandler, forceUpdate) {\n  var client = useChatContext('useChannelUpdatedListener').client;\n  useEffect(function () {\n    var handleEvent = function (event) {\n      setChannels(function (channels) {\n        var _a, _b, _c, _d, _e, _f;\n\n        var channelIndex = channels.findIndex(function (channel) {\n          var _a;\n\n          return channel.cid === ((_a = event.channel) === null || _a === void 0 ? void 0 : _a.cid);\n        });\n\n        if (channelIndex > -1 && event.channel) {\n          var newChannels = channels;\n          newChannels[channelIndex].data = __assign(__assign({}, event.channel), {\n            hidden: (_b = (_a = event.channel) === null || _a === void 0 ? void 0 : _a.hidden) !== null && _b !== void 0 ? _b : (_c = newChannels[channelIndex].data) === null || _c === void 0 ? void 0 : _c.hidden,\n            own_capabilities: (_e = (_d = event.channel) === null || _d === void 0 ? void 0 : _d.own_capabilities) !== null && _e !== void 0 ? _e : (_f = newChannels[channelIndex].data) === null || _f === void 0 ? void 0 : _f.own_capabilities\n          });\n          return __spreadArray([], newChannels);\n        }\n\n        return channels;\n      });\n\n      if (forceUpdate) {\n        forceUpdate();\n      }\n\n      if (customHandler && typeof customHandler === 'function') {\n        customHandler(setChannels, event);\n      }\n    };\n\n    client.on('channel.updated', handleEvent);\n    return function () {\n      client.off('channel.updated', handleEvent);\n    };\n  }, [customHandler]);\n};","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/ChannelList/hooks/useChannelUpdatedListener.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","il","j","useEffect","useChatContext","useChannelUpdatedListener","setChannels","customHandler","forceUpdate","client","handleEvent","event","channels","_a","_b","_c","_d","_e","_f","channelIndex","findIndex","channel","cid","newChannels","data","hidden","own_capabilities","on","off"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { useEffect } from 'react';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useChannelUpdatedListener = function (setChannels, customHandler, forceUpdate) {\n    var client = useChatContext('useChannelUpdatedListener').client;\n    useEffect(function () {\n        var handleEvent = function (event) {\n            setChannels(function (channels) {\n                var _a, _b, _c, _d, _e, _f;\n                var channelIndex = channels.findIndex(function (channel) { var _a; return channel.cid === ((_a = event.channel) === null || _a === void 0 ? void 0 : _a.cid); });\n                if (channelIndex > -1 && event.channel) {\n                    var newChannels = channels;\n                    newChannels[channelIndex].data = __assign(__assign({}, event.channel), { hidden: (_b = (_a = event.channel) === null || _a === void 0 ? void 0 : _a.hidden) !== null && _b !== void 0 ? _b : (_c = newChannels[channelIndex].data) === null || _c === void 0 ? void 0 : _c.hidden, own_capabilities: (_e = (_d = event.channel) === null || _d === void 0 ? void 0 : _d.own_capabilities) !== null && _e !== void 0 ? _e : (_f = newChannels[channelIndex].data) === null || _f === void 0 ? void 0 : _f.own_capabilities });\n                    return __spreadArray([], newChannels);\n                }\n                return channels;\n            });\n            if (forceUpdate) {\n                forceUpdate();\n            }\n            if (customHandler && typeof customHandler === 'function') {\n                customHandler(setChannels, event);\n            }\n        };\n        client.on('channel.updated', handleEvent);\n        return function () {\n            client.off('channel.updated', handleEvent);\n        };\n    }, [customHandler]);\n};\n"]},"metadata":{},"sourceType":"module"}