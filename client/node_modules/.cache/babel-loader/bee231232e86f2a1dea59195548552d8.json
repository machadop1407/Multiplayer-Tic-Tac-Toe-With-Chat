{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport ReactPlayer from 'react-player';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nexport var SUPPORTED_VIDEO_FORMATS = ['video/mp4', 'video/ogg', 'video/webm', 'video/quicktime'];\nexport var isGalleryAttachmentType = function (output) {\n  return output.images != null;\n};\nexport var isAudioAttachment = function (attachment) {\n  return attachment.type === 'audio';\n};\nexport var isFileAttachment = function (attachment) {\n  return attachment.type === 'file' || attachment.mime_type && SUPPORTED_VIDEO_FORMATS.indexOf(attachment.mime_type) === -1 && attachment.type !== 'video';\n};\nexport var isImageAttachment = function (attachment) {\n  return attachment.type === 'image' && !attachment.title_link && !attachment.og_scrape_url;\n};\nexport var isMediaAttachment = function (attachment) {\n  return attachment.mime_type && SUPPORTED_VIDEO_FORMATS.indexOf(attachment.mime_type) !== -1 || attachment.type === 'video';\n};\nexport var renderAttachmentWithinContainer = function (props) {\n  var attachment = props.attachment,\n      children = props.children,\n      componentType = props.componentType;\n  var extra = '';\n\n  if (!isGalleryAttachmentType(attachment)) {\n    extra = componentType === 'card' && !(attachment === null || attachment === void 0 ? void 0 : attachment.image_url) && !(attachment === null || attachment === void 0 ? void 0 : attachment.thumb_url) ? 'no-image' : attachment && attachment.actions && attachment.actions.length ? 'actions' : '';\n  }\n\n  return React.createElement(\"div\", {\n    className: \"str-chat__message-attachment str-chat__message-attachment--\" + componentType + \" str-chat__message-attachment--\" + ((attachment === null || attachment === void 0 ? void 0 : attachment.type) || '') + \" str-chat__message-attachment--\" + componentType + \"--\" + extra,\n    key: (isGalleryAttachmentType(attachment) ? '' : attachment === null || attachment === void 0 ? void 0 : attachment.id) + \"-\" + ((attachment === null || attachment === void 0 ? void 0 : attachment.type) || 'none') + \" \"\n  }, children);\n};\nexport var renderAttachmentActions = function (props) {\n  var _a;\n\n  var actionHandler = props.actionHandler,\n      attachment = props.attachment,\n      _b = props.AttachmentActions,\n      AttachmentActions = _b === void 0 ? DefaultAttachmentActions : _b;\n  if (!((_a = attachment.actions) === null || _a === void 0 ? void 0 : _a.length)) return null;\n  return React.createElement(AttachmentActions, __assign({}, attachment, {\n    actionHandler: function (event, name, value) {\n      return actionHandler === null || actionHandler === void 0 ? void 0 : actionHandler(event, name, value);\n    },\n    actions: attachment.actions,\n    id: attachment.id || '',\n    key: \"key-actions-\" + attachment.id,\n    text: attachment.text || ''\n  }));\n};\nexport var renderGallery = function (props) {\n  var attachment = props.attachment,\n      _a = props.Gallery,\n      Gallery = _a === void 0 ? DefaultGallery : _a;\n  return renderAttachmentWithinContainer({\n    attachment: attachment,\n    children: React.createElement(Gallery, {\n      images: attachment.images || [],\n      key: 'gallery'\n    }),\n    componentType: 'gallery'\n  });\n};\nexport var renderImage = function (props) {\n  var attachment = props.attachment,\n      _a = props.Image,\n      Image = _a === void 0 ? DefaultImage : _a;\n\n  if (attachment.actions && attachment.actions.length) {\n    return renderAttachmentWithinContainer({\n      attachment: attachment,\n      children: React.createElement(\"div\", {\n        className: 'str-chat__attachment',\n        key: \"key-image-\" + attachment.id\n      }, React.createElement(Image, __assign({}, attachment)), renderAttachmentActions(props)),\n      componentType: 'image'\n    });\n  }\n\n  return renderAttachmentWithinContainer({\n    attachment: attachment,\n    children: React.createElement(Image, __assign({}, attachment, {\n      key: \"key-image-\" + attachment.id\n    })),\n    componentType: 'image'\n  });\n};\nexport var renderCard = function (props) {\n  var attachment = props.attachment,\n      _a = props.Card,\n      Card = _a === void 0 ? DefaultCard : _a;\n\n  if (attachment.actions && attachment.actions.length) {\n    return renderAttachmentWithinContainer({\n      attachment: attachment,\n      children: React.createElement(\"div\", {\n        className: 'str-chat__attachment',\n        key: \"key-image-\" + attachment.id\n      }, React.createElement(Card, __assign({}, attachment, {\n        key: \"key-card-\" + attachment.id\n      })), renderAttachmentActions(props)),\n      componentType: 'card'\n    });\n  }\n\n  return renderAttachmentWithinContainer({\n    attachment: attachment,\n    children: React.createElement(Card, __assign({}, attachment, {\n      key: \"key-card-\" + attachment.id\n    })),\n    componentType: 'card'\n  });\n};\nexport var renderFile = function (props) {\n  var attachment = props.attachment,\n      _a = props.File,\n      File = _a === void 0 ? DefaultFile : _a;\n  if (!attachment.asset_url) return null;\n  return renderAttachmentWithinContainer({\n    attachment: attachment,\n    children: React.createElement(File, {\n      attachment: attachment,\n      key: \"key-file-\" + attachment.id\n    }),\n    componentType: 'file'\n  });\n};\nexport var renderAudio = function (props) {\n  var attachment = props.attachment,\n      _a = props.Audio,\n      Audio = _a === void 0 ? DefaultAudio : _a;\n  return renderAttachmentWithinContainer({\n    attachment: attachment,\n    children: React.createElement(\"div\", {\n      className: 'str-chat__attachment',\n      key: \"key-video-\" + attachment.id\n    }, React.createElement(Audio, {\n      og: attachment\n    })),\n    componentType: 'audio'\n  });\n};\nexport var renderMedia = function (props) {\n  var _a;\n\n  var attachment = props.attachment,\n      _b = props.Media,\n      Media = _b === void 0 ? ReactPlayer : _b;\n\n  if ((_a = attachment.actions) === null || _a === void 0 ? void 0 : _a.length) {\n    return renderAttachmentWithinContainer({\n      attachment: attachment,\n      children: React.createElement(\"div\", {\n        className: 'str-chat__attachment str-chat__attachment-media',\n        key: \"key-video-\" + attachment.id\n      }, React.createElement(\"div\", {\n        className: 'str-chat__player-wrapper'\n      }, React.createElement(Media, {\n        className: 'react-player',\n        controls: true,\n        height: '100%',\n        url: attachment.asset_url,\n        width: '100%'\n      })), renderAttachmentActions(props)),\n      componentType: 'media'\n    });\n  }\n\n  return renderAttachmentWithinContainer({\n    attachment: attachment,\n    children: React.createElement(\"div\", {\n      className: 'str-chat__player-wrapper',\n      key: \"key-video-\" + attachment.id\n    }, React.createElement(Media, {\n      className: 'react-player',\n      controls: true,\n      height: '100%',\n      url: attachment.asset_url,\n      width: '100%'\n    })),\n    componentType: 'media'\n  });\n};","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/Attachment/utils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","ReactPlayer","AttachmentActions","DefaultAttachmentActions","Audio","DefaultAudio","Card","DefaultCard","FileAttachment","DefaultFile","Gallery","DefaultGallery","ImageComponent","DefaultImage","SUPPORTED_VIDEO_FORMATS","isGalleryAttachmentType","output","images","isAudioAttachment","attachment","type","isFileAttachment","mime_type","indexOf","isImageAttachment","title_link","og_scrape_url","isMediaAttachment","renderAttachmentWithinContainer","props","children","componentType","extra","image_url","thumb_url","actions","createElement","className","key","id","renderAttachmentActions","_a","actionHandler","_b","event","name","value","text","renderGallery","renderImage","Image","renderCard","renderFile","File","asset_url","renderAudio","og","renderMedia","Media","controls","height","url","width"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport ReactPlayer from 'react-player';\nimport { AttachmentActions as DefaultAttachmentActions } from './AttachmentActions';\nimport { Audio as DefaultAudio } from './Audio';\nimport { Card as DefaultCard } from './Card';\nimport { FileAttachment as DefaultFile } from './FileAttachment';\nimport { Gallery as DefaultGallery, ImageComponent as DefaultImage } from '../Gallery';\nexport var SUPPORTED_VIDEO_FORMATS = ['video/mp4', 'video/ogg', 'video/webm', 'video/quicktime'];\nexport var isGalleryAttachmentType = function (output) { return output.images != null; };\nexport var isAudioAttachment = function (attachment) { return attachment.type === 'audio'; };\nexport var isFileAttachment = function (attachment) {\n    return attachment.type === 'file' ||\n        (attachment.mime_type &&\n            SUPPORTED_VIDEO_FORMATS.indexOf(attachment.mime_type) === -1 &&\n            attachment.type !== 'video');\n};\nexport var isImageAttachment = function (attachment) { return attachment.type === 'image' && !attachment.title_link && !attachment.og_scrape_url; };\nexport var isMediaAttachment = function (attachment) {\n    return (attachment.mime_type && SUPPORTED_VIDEO_FORMATS.indexOf(attachment.mime_type) !== -1) ||\n        attachment.type === 'video';\n};\nexport var renderAttachmentWithinContainer = function (props) {\n    var attachment = props.attachment, children = props.children, componentType = props.componentType;\n    var extra = '';\n    if (!isGalleryAttachmentType(attachment)) {\n        extra =\n            componentType === 'card' && !(attachment === null || attachment === void 0 ? void 0 : attachment.image_url) && !(attachment === null || attachment === void 0 ? void 0 : attachment.thumb_url)\n                ? 'no-image'\n                : attachment && attachment.actions && attachment.actions.length\n                    ? 'actions'\n                    : '';\n    }\n    return (React.createElement(\"div\", { className: \"str-chat__message-attachment str-chat__message-attachment--\" + componentType + \" str-chat__message-attachment--\" + ((attachment === null || attachment === void 0 ? void 0 : attachment.type) || '') + \" str-chat__message-attachment--\" + componentType + \"--\" + extra, key: (isGalleryAttachmentType(attachment) ? '' : attachment === null || attachment === void 0 ? void 0 : attachment.id) + \"-\" + ((attachment === null || attachment === void 0 ? void 0 : attachment.type) || 'none') + \" \" }, children));\n};\nexport var renderAttachmentActions = function (props) {\n    var _a;\n    var actionHandler = props.actionHandler, attachment = props.attachment, _b = props.AttachmentActions, AttachmentActions = _b === void 0 ? DefaultAttachmentActions : _b;\n    if (!((_a = attachment.actions) === null || _a === void 0 ? void 0 : _a.length))\n        return null;\n    return (React.createElement(AttachmentActions, __assign({}, attachment, { actionHandler: function (event, name, value) { return actionHandler === null || actionHandler === void 0 ? void 0 : actionHandler(event, name, value); }, actions: attachment.actions, id: attachment.id || '', key: \"key-actions-\" + attachment.id, text: attachment.text || '' })));\n};\nexport var renderGallery = function (props) {\n    var attachment = props.attachment, _a = props.Gallery, Gallery = _a === void 0 ? DefaultGallery : _a;\n    return renderAttachmentWithinContainer({\n        attachment: attachment,\n        children: React.createElement(Gallery, { images: attachment.images || [], key: 'gallery' }),\n        componentType: 'gallery',\n    });\n};\nexport var renderImage = function (props) {\n    var attachment = props.attachment, _a = props.Image, Image = _a === void 0 ? DefaultImage : _a;\n    if (attachment.actions && attachment.actions.length) {\n        return renderAttachmentWithinContainer({\n            attachment: attachment,\n            children: (React.createElement(\"div\", { className: 'str-chat__attachment', key: \"key-image-\" + attachment.id },\n                React.createElement(Image, __assign({}, attachment)),\n                renderAttachmentActions(props))),\n            componentType: 'image',\n        });\n    }\n    return renderAttachmentWithinContainer({\n        attachment: attachment,\n        children: React.createElement(Image, __assign({}, attachment, { key: \"key-image-\" + attachment.id })),\n        componentType: 'image',\n    });\n};\nexport var renderCard = function (props) {\n    var attachment = props.attachment, _a = props.Card, Card = _a === void 0 ? DefaultCard : _a;\n    if (attachment.actions && attachment.actions.length) {\n        return renderAttachmentWithinContainer({\n            attachment: attachment,\n            children: (React.createElement(\"div\", { className: 'str-chat__attachment', key: \"key-image-\" + attachment.id },\n                React.createElement(Card, __assign({}, attachment, { key: \"key-card-\" + attachment.id })),\n                renderAttachmentActions(props))),\n            componentType: 'card',\n        });\n    }\n    return renderAttachmentWithinContainer({\n        attachment: attachment,\n        children: React.createElement(Card, __assign({}, attachment, { key: \"key-card-\" + attachment.id })),\n        componentType: 'card',\n    });\n};\nexport var renderFile = function (props) {\n    var attachment = props.attachment, _a = props.File, File = _a === void 0 ? DefaultFile : _a;\n    if (!attachment.asset_url)\n        return null;\n    return renderAttachmentWithinContainer({\n        attachment: attachment,\n        children: React.createElement(File, { attachment: attachment, key: \"key-file-\" + attachment.id }),\n        componentType: 'file',\n    });\n};\nexport var renderAudio = function (props) {\n    var attachment = props.attachment, _a = props.Audio, Audio = _a === void 0 ? DefaultAudio : _a;\n    return renderAttachmentWithinContainer({\n        attachment: attachment,\n        children: (React.createElement(\"div\", { className: 'str-chat__attachment', key: \"key-video-\" + attachment.id },\n            React.createElement(Audio, { og: attachment }))),\n        componentType: 'audio',\n    });\n};\nexport var renderMedia = function (props) {\n    var _a;\n    var attachment = props.attachment, _b = props.Media, Media = _b === void 0 ? ReactPlayer : _b;\n    if ((_a = attachment.actions) === null || _a === void 0 ? void 0 : _a.length) {\n        return renderAttachmentWithinContainer({\n            attachment: attachment,\n            children: (React.createElement(\"div\", { className: 'str-chat__attachment str-chat__attachment-media', key: \"key-video-\" + attachment.id },\n                React.createElement(\"div\", { className: 'str-chat__player-wrapper' },\n                    React.createElement(Media, { className: 'react-player', controls: true, height: '100%', url: attachment.asset_url, width: '100%' })),\n                renderAttachmentActions(props))),\n            componentType: 'media',\n        });\n    }\n    return renderAttachmentWithinContainer({\n        attachment: attachment,\n        children: (React.createElement(\"div\", { className: 'str-chat__player-wrapper', key: \"key-video-\" + attachment.id },\n            React.createElement(Media, { className: 'react-player', controls: true, height: '100%', url: attachment.asset_url, width: '100%' }))),\n        componentType: 'media',\n    });\n};\n"]},"metadata":{},"sourceType":"module"}