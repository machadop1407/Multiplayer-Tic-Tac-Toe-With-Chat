{"ast":null,"code":"import React, { useEffect } from 'react';\nimport { FilePreviewer, ImagePreviewer } from 'react-file-utils';\nimport { useBreakpoint } from '../Message/hooks';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nexport var UploadsPreview = function () {\n  var _a = useChannelStateContext('UploadsPreview'),\n      maxNumberOfFiles = _a.maxNumberOfFiles,\n      multipleUploads = _a.multipleUploads;\n\n  var messageInput = useMessageInputContext('UploadsPreview');\n  var fileOrder = messageInput.fileOrder,\n      fileUploads = messageInput.fileUploads,\n      imageOrder = messageInput.imageOrder,\n      imageUploads = messageInput.imageUploads,\n      numberOfUploads = messageInput.numberOfUploads,\n      removeFile = messageInput.removeFile,\n      removeImage = messageInput.removeImage,\n      text = messageInput.text,\n      uploadFile = messageInput.uploadFile,\n      uploadImage = messageInput.uploadImage,\n      uploadNewFiles = messageInput.uploadNewFiles;\n  var imagesToPreview = imageOrder.map(function (id) {\n    return imageUploads[id];\n  });\n  var filesToPreview = fileOrder.map(function (id) {\n    return fileUploads[id];\n  });\n  var device = useBreakpoint().device;\n  useEffect(function () {\n    var elements = document.getElementsByClassName('str-chat__send-button');\n    var sendButton = elements.item(0);\n\n    if (sendButton instanceof HTMLButtonElement) {\n      if (numberOfUploads && !text || device !== 'full') {\n        sendButton.style.display = 'block';\n      } else {\n        sendButton.style.display = 'none';\n      }\n    }\n  }, [device, numberOfUploads, text]);\n  return React.createElement(React.Fragment, null, imageOrder.length > 0 && React.createElement(ImagePreviewer, {\n    disabled: !multipleUploads || maxNumberOfFiles !== undefined && numberOfUploads >= maxNumberOfFiles,\n    handleFiles: uploadNewFiles,\n    handleRemove: removeImage,\n    handleRetry: uploadImage,\n    imageUploads: imagesToPreview,\n    multiple: multipleUploads\n  }), fileOrder.length > 0 && React.createElement(FilePreviewer, {\n    handleFiles: uploadNewFiles,\n    handleRemove: removeFile,\n    handleRetry: uploadFile,\n    uploads: filesToPreview\n  }));\n};","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/MessageInput/UploadsPreview.js"],"names":["React","useEffect","FilePreviewer","ImagePreviewer","useBreakpoint","useChannelStateContext","useMessageInputContext","UploadsPreview","_a","maxNumberOfFiles","multipleUploads","messageInput","fileOrder","fileUploads","imageOrder","imageUploads","numberOfUploads","removeFile","removeImage","text","uploadFile","uploadImage","uploadNewFiles","imagesToPreview","map","id","filesToPreview","device","elements","document","getElementsByClassName","sendButton","item","HTMLButtonElement","style","display","createElement","Fragment","length","disabled","undefined","handleFiles","handleRemove","handleRetry","multiple","uploads"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { FilePreviewer, ImagePreviewer } from 'react-file-utils';\nimport { useBreakpoint } from '../Message/hooks';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nexport var UploadsPreview = function () {\n    var _a = useChannelStateContext('UploadsPreview'), maxNumberOfFiles = _a.maxNumberOfFiles, multipleUploads = _a.multipleUploads;\n    var messageInput = useMessageInputContext('UploadsPreview');\n    var fileOrder = messageInput.fileOrder, fileUploads = messageInput.fileUploads, imageOrder = messageInput.imageOrder, imageUploads = messageInput.imageUploads, numberOfUploads = messageInput.numberOfUploads, removeFile = messageInput.removeFile, removeImage = messageInput.removeImage, text = messageInput.text, uploadFile = messageInput.uploadFile, uploadImage = messageInput.uploadImage, uploadNewFiles = messageInput.uploadNewFiles;\n    var imagesToPreview = imageOrder.map(function (id) { return imageUploads[id]; });\n    var filesToPreview = fileOrder.map(function (id) { return fileUploads[id]; });\n    var device = useBreakpoint().device;\n    useEffect(function () {\n        var elements = document.getElementsByClassName('str-chat__send-button');\n        var sendButton = elements.item(0);\n        if (sendButton instanceof HTMLButtonElement) {\n            if ((numberOfUploads && !text) || device !== 'full') {\n                sendButton.style.display = 'block';\n            }\n            else {\n                sendButton.style.display = 'none';\n            }\n        }\n    }, [device, numberOfUploads, text]);\n    return (React.createElement(React.Fragment, null,\n        imageOrder.length > 0 && (React.createElement(ImagePreviewer, { disabled: !multipleUploads ||\n                (maxNumberOfFiles !== undefined && numberOfUploads >= maxNumberOfFiles), handleFiles: uploadNewFiles, handleRemove: removeImage, handleRetry: uploadImage, imageUploads: imagesToPreview, multiple: multipleUploads })),\n        fileOrder.length > 0 && (React.createElement(FilePreviewer, { handleFiles: uploadNewFiles, handleRemove: removeFile, handleRetry: uploadFile, uploads: filesToPreview }))));\n};\n"]},"metadata":{},"sourceType":"module"}