{"ast":null,"code":"import React, { useCallback, useState } from 'react';\nimport { MESSAGE_ACTIONS } from '../Message/utils';\nimport { useChannelActionContext } from '../../context/ChannelActionContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar CustomMessageActionsList = function (props) {\n  var customMessageActions = props.customMessageActions,\n      message = props.message;\n  var customActionsArray = Object.keys(customMessageActions);\n  return React.createElement(React.Fragment, null, customActionsArray.map(function (customAction) {\n    var customHandler = customMessageActions[customAction];\n    return React.createElement(\"button\", {\n      \"aria-selected\": 'false',\n      className: 'str-chat__message-actions-list-item',\n      key: customAction,\n      onClick: function (event) {\n        return customHandler(message, event);\n      },\n      role: 'option'\n    }, customAction);\n  }));\n};\n\nvar UnMemoizedMessageActionsBox = function (props) {\n  var getMessageActions = props.getMessageActions,\n      handleDelete = props.handleDelete,\n      handleEdit = props.handleEdit,\n      handleFlag = props.handleFlag,\n      handleMute = props.handleMute,\n      handlePin = props.handlePin,\n      isUserMuted = props.isUserMuted,\n      mine = props.mine,\n      _a = props.open,\n      open = _a === void 0 ? false : _a;\n  var setQuotedMessage = useChannelActionContext('MessageActionsBox').setQuotedMessage;\n\n  var _b = useMessageContext('MessageActionsBox'),\n      customMessageActions = _b.customMessageActions,\n      message = _b.message,\n      messageListRect = _b.messageListRect;\n\n  var t = useTranslationContext('MessageActionsBox').t;\n\n  var _c = useState(false),\n      reverse = _c[0],\n      setReverse = _c[1];\n\n  var messageActions = getMessageActions();\n  var checkIfReverse = useCallback(function (containerElement) {\n    if (!containerElement) {\n      setReverse(false);\n      return;\n    }\n\n    if (open) {\n      var containerRect = containerElement.getBoundingClientRect();\n\n      if (mine) {\n        setReverse(!!messageListRect && containerRect.left < messageListRect.left);\n      } else {\n        setReverse(!!messageListRect && containerRect.right + 5 > messageListRect.right);\n      }\n    }\n  }, [messageListRect, mine, open]);\n\n  var handleQuote = function () {\n    setQuotedMessage(message);\n    var elements = message.parent_id ? document.querySelectorAll('.str-chat__thread .str-chat__textarea__textarea') : document.getElementsByClassName('str-chat__textarea__textarea');\n    var textarea = elements.item(0);\n\n    if (textarea instanceof HTMLTextAreaElement) {\n      textarea.focus();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"str-chat__message-actions-box\\n        \" + (open ? 'str-chat__message-actions-box--open' : '') + \"\\n        \" + (mine ? 'str-chat__message-actions-box--mine' : '') + \"\\n        \" + (reverse ? 'str-chat__message-actions-box--reverse' : '') + \"\\n      \",\n    \"data-testid\": 'message-actions-box',\n    ref: checkIfReverse\n  }, React.createElement(\"div\", {\n    \"aria-label\": 'Message Options',\n    className: 'str-chat__message-actions-list',\n    role: 'listbox'\n  }, customMessageActions && React.createElement(CustomMessageActionsList, {\n    customMessageActions: customMessageActions,\n    message: message\n  }), messageActions.indexOf(MESSAGE_ACTIONS.quote) > -1 && !message.quoted_message && React.createElement(\"button\", {\n    \"aria-selected\": 'false',\n    className: 'str-chat__message-actions-list-item',\n    onClick: handleQuote,\n    role: 'option'\n  }, t('Reply')), messageActions.indexOf(MESSAGE_ACTIONS.pin) > -1 && !message.parent_id && React.createElement(\"button\", {\n    \"aria-selected\": 'false',\n    className: 'str-chat__message-actions-list-item',\n    onClick: handlePin,\n    role: 'option'\n  }, !message.pinned ? t('Pin') : t('Unpin')), messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1 && React.createElement(\"button\", {\n    \"aria-selected\": 'false',\n    className: 'str-chat__message-actions-list-item',\n    onClick: handleFlag,\n    role: 'option'\n  }, t('Flag')), messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && React.createElement(\"button\", {\n    \"aria-selected\": 'false',\n    className: 'str-chat__message-actions-list-item',\n    onClick: handleMute,\n    role: 'option'\n  }, isUserMuted() ? t('Unmute') : t('Mute')), messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 && React.createElement(\"button\", {\n    \"aria-selected\": 'false',\n    className: 'str-chat__message-actions-list-item',\n    onClick: handleEdit,\n    role: 'option'\n  }, t('Edit Message')), messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 && React.createElement(\"button\", {\n    \"aria-selected\": 'false',\n    className: 'str-chat__message-actions-list-item',\n    onClick: handleDelete,\n    role: 'option'\n  }, t('Delete'))));\n};\n/**\n * A popup box that displays the available actions on a message, such as edit, delete, pin, etc.\n */\n\n\nexport var MessageActionsBox = React.memo(UnMemoizedMessageActionsBox);","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/MessageActions/MessageActionsBox.js"],"names":["React","useCallback","useState","MESSAGE_ACTIONS","useChannelActionContext","useMessageContext","useTranslationContext","CustomMessageActionsList","props","customMessageActions","message","customActionsArray","Object","keys","createElement","Fragment","map","customAction","customHandler","className","key","onClick","event","role","UnMemoizedMessageActionsBox","getMessageActions","handleDelete","handleEdit","handleFlag","handleMute","handlePin","isUserMuted","mine","_a","open","setQuotedMessage","_b","messageListRect","t","_c","reverse","setReverse","messageActions","checkIfReverse","containerElement","containerRect","getBoundingClientRect","left","right","handleQuote","elements","parent_id","document","querySelectorAll","getElementsByClassName","textarea","item","HTMLTextAreaElement","focus","ref","indexOf","quote","quoted_message","pin","pinned","flag","mute","edit","delete","MessageActionsBox","memo"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { MESSAGE_ACTIONS } from '../Message/utils';\nimport { useChannelActionContext } from '../../context/ChannelActionContext';\nimport { useMessageContext, } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar CustomMessageActionsList = function (props) {\n    var customMessageActions = props.customMessageActions, message = props.message;\n    var customActionsArray = Object.keys(customMessageActions);\n    return (React.createElement(React.Fragment, null, customActionsArray.map(function (customAction) {\n        var customHandler = customMessageActions[customAction];\n        return (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', key: customAction, onClick: function (event) { return customHandler(message, event); }, role: 'option' }, customAction));\n    })));\n};\nvar UnMemoizedMessageActionsBox = function (props) {\n    var getMessageActions = props.getMessageActions, handleDelete = props.handleDelete, handleEdit = props.handleEdit, handleFlag = props.handleFlag, handleMute = props.handleMute, handlePin = props.handlePin, isUserMuted = props.isUserMuted, mine = props.mine, _a = props.open, open = _a === void 0 ? false : _a;\n    var setQuotedMessage = useChannelActionContext('MessageActionsBox').setQuotedMessage;\n    var _b = useMessageContext('MessageActionsBox'), customMessageActions = _b.customMessageActions, message = _b.message, messageListRect = _b.messageListRect;\n    var t = useTranslationContext('MessageActionsBox').t;\n    var _c = useState(false), reverse = _c[0], setReverse = _c[1];\n    var messageActions = getMessageActions();\n    var checkIfReverse = useCallback(function (containerElement) {\n        if (!containerElement) {\n            setReverse(false);\n            return;\n        }\n        if (open) {\n            var containerRect = containerElement.getBoundingClientRect();\n            if (mine) {\n                setReverse(!!messageListRect && containerRect.left < messageListRect.left);\n            }\n            else {\n                setReverse(!!messageListRect && containerRect.right + 5 > messageListRect.right);\n            }\n        }\n    }, [messageListRect, mine, open]);\n    var handleQuote = function () {\n        setQuotedMessage(message);\n        var elements = message.parent_id\n            ? document.querySelectorAll('.str-chat__thread .str-chat__textarea__textarea')\n            : document.getElementsByClassName('str-chat__textarea__textarea');\n        var textarea = elements.item(0);\n        if (textarea instanceof HTMLTextAreaElement) {\n            textarea.focus();\n        }\n    };\n    return (React.createElement(\"div\", { className: \"str-chat__message-actions-box\\n        \" + (open ? 'str-chat__message-actions-box--open' : '') + \"\\n        \" + (mine ? 'str-chat__message-actions-box--mine' : '') + \"\\n        \" + (reverse ? 'str-chat__message-actions-box--reverse' : '') + \"\\n      \", \"data-testid\": 'message-actions-box', ref: checkIfReverse },\n        React.createElement(\"div\", { \"aria-label\": 'Message Options', className: 'str-chat__message-actions-list', role: 'listbox' },\n            customMessageActions && (React.createElement(CustomMessageActionsList, { customMessageActions: customMessageActions, message: message })),\n            messageActions.indexOf(MESSAGE_ACTIONS.quote) > -1 && !message.quoted_message && (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', onClick: handleQuote, role: 'option' }, t('Reply'))),\n            messageActions.indexOf(MESSAGE_ACTIONS.pin) > -1 && !message.parent_id && (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', onClick: handlePin, role: 'option' }, !message.pinned ? t('Pin') : t('Unpin'))),\n            messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1 && (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', onClick: handleFlag, role: 'option' }, t('Flag'))),\n            messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', onClick: handleMute, role: 'option' }, isUserMuted() ? t('Unmute') : t('Mute'))),\n            messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 && (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', onClick: handleEdit, role: 'option' }, t('Edit Message'))),\n            messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 && (React.createElement(\"button\", { \"aria-selected\": 'false', className: 'str-chat__message-actions-list-item', onClick: handleDelete, role: 'option' }, t('Delete'))))));\n};\n/**\n * A popup box that displays the available actions on a message, such as edit, delete, pin, etc.\n */\nexport var MessageActionsBox = React.memo(UnMemoizedMessageActionsBox);\n"]},"metadata":{},"sourceType":"module"}