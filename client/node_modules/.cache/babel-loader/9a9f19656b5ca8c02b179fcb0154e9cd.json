{"ast":null,"code":"import React, { useCallback, useEffect, useRef, useState } from 'react';\nvar progressUpdateInterval = 500;\n\nvar UnMemoizedAudio = function (props) {\n  var og = props.og;\n\n  var _a = useState(false),\n      isPlaying = _a[0],\n      setIsPlaying = _a[1];\n\n  var _b = useState(0),\n      progress = _b[0],\n      setProgress = _b[1];\n\n  var audioRef = useRef(null);\n  var updateProgress = useCallback(function () {\n    if (audioRef.current !== null) {\n      var position = audioRef.current.currentTime;\n      var duration = audioRef.current.duration;\n      var currentProgress = 100 / duration * position;\n      setProgress(currentProgress);\n\n      if (position === duration) {\n        setIsPlaying(false);\n      }\n    }\n  }, [audioRef]);\n  useEffect(function () {\n    if (audioRef.current !== null) {\n      if (isPlaying) {\n        audioRef.current.play();\n        var interval_1 = setInterval(updateProgress, progressUpdateInterval);\n        return function () {\n          return clearInterval(interval_1);\n        };\n      }\n\n      audioRef.current.pause();\n    }\n\n    return;\n  }, [isPlaying, updateProgress]);\n  var asset_url = og.asset_url,\n      description = og.description,\n      image_url = og.image_url,\n      text = og.text,\n      title = og.title;\n  return React.createElement(\"div\", {\n    className: 'str-chat__audio'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__wrapper'\n  }, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: 'audio/mp3'\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__image'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__audio__image--overlay'\n  }, !isPlaying ? React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'play-audio',\n    onClick: function () {\n      return setIsPlaying(true);\n    }\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z',\n    fillRule: 'nonzero'\n  }))) : React.createElement(\"button\", {\n    className: 'str-chat__audio__image--button',\n    \"data-testid\": 'pause-audio',\n    onClick: function () {\n      return setIsPlaying(false);\n    }\n  }, React.createElement(\"svg\", {\n    height: '40',\n    viewBox: '0 0 64 64',\n    width: '40',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z',\n    fillRule: 'nonzero'\n  })))), image_url && React.createElement(\"img\", {\n    alt: \"\" + description,\n    src: image_url\n  })), React.createElement(\"div\", {\n    className: 'str-chat__audio__content'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__audio__content--title'\n  }, React.createElement(\"strong\", null, title)), React.createElement(\"span\", {\n    className: 'str-chat__audio__content--subtitle'\n  }, text), React.createElement(\"div\", {\n    className: 'str-chat__audio__content--progress'\n  }, React.createElement(\"div\", {\n    \"data-testid\": 'audio-progress',\n    style: {\n      width: progress + \"%\"\n    }\n  })))));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\n\n\nexport var Audio = React.memo(UnMemoizedAudio);","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/Attachment/Audio.js"],"names":["React","useCallback","useEffect","useRef","useState","progressUpdateInterval","UnMemoizedAudio","props","og","_a","isPlaying","setIsPlaying","_b","progress","setProgress","audioRef","updateProgress","current","position","currentTime","duration","currentProgress","play","interval_1","setInterval","clearInterval","pause","asset_url","description","image_url","text","title","createElement","className","ref","src","type","onClick","height","viewBox","width","xmlns","d","fillRule","alt","style","Audio","memo"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,MAAxC,EAAgDC,QAAhD,QAAgE,OAAhE;AACA,IAAIC,sBAAsB,GAAG,GAA7B;;AACA,IAAIC,eAAe,GAAG,UAAUC,KAAV,EAAiB;AACnC,MAAIC,EAAE,GAAGD,KAAK,CAACC,EAAf;;AACA,MAAIC,EAAE,GAAGL,QAAQ,CAAC,KAAD,CAAjB;AAAA,MAA0BM,SAAS,GAAGD,EAAE,CAAC,CAAD,CAAxC;AAAA,MAA6CE,YAAY,GAAGF,EAAE,CAAC,CAAD,CAA9D;;AACA,MAAIG,EAAE,GAAGR,QAAQ,CAAC,CAAD,CAAjB;AAAA,MAAsBS,QAAQ,GAAGD,EAAE,CAAC,CAAD,CAAnC;AAAA,MAAwCE,WAAW,GAAGF,EAAE,CAAC,CAAD,CAAxD;;AACA,MAAIG,QAAQ,GAAGZ,MAAM,CAAC,IAAD,CAArB;AACA,MAAIa,cAAc,GAAGf,WAAW,CAAC,YAAY;AACzC,QAAIc,QAAQ,CAACE,OAAT,KAAqB,IAAzB,EAA+B;AAC3B,UAAIC,QAAQ,GAAGH,QAAQ,CAACE,OAAT,CAAiBE,WAAhC;AACA,UAAIC,QAAQ,GAAGL,QAAQ,CAACE,OAAT,CAAiBG,QAAhC;AACA,UAAIC,eAAe,GAAI,MAAMD,QAAP,GAAmBF,QAAzC;AACAJ,MAAAA,WAAW,CAACO,eAAD,CAAX;;AACA,UAAIH,QAAQ,KAAKE,QAAjB,EAA2B;AACvBT,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;AACJ;AACJ,GAV+B,EAU7B,CAACI,QAAD,CAV6B,CAAhC;AAWAb,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIa,QAAQ,CAACE,OAAT,KAAqB,IAAzB,EAA+B;AAC3B,UAAIP,SAAJ,EAAe;AACXK,QAAAA,QAAQ,CAACE,OAAT,CAAiBK,IAAjB;AACA,YAAIC,UAAU,GAAGC,WAAW,CAACR,cAAD,EAAiBX,sBAAjB,CAA5B;AACA,eAAO,YAAY;AAAE,iBAAOoB,aAAa,CAACF,UAAD,CAApB;AAAmC,SAAxD;AACH;;AACDR,MAAAA,QAAQ,CAACE,OAAT,CAAiBS,KAAjB;AACH;;AACD;AACH,GAVQ,EAUN,CAAChB,SAAD,EAAYM,cAAZ,CAVM,CAAT;AAWA,MAAIW,SAAS,GAAGnB,EAAE,CAACmB,SAAnB;AAAA,MAA8BC,WAAW,GAAGpB,EAAE,CAACoB,WAA/C;AAAA,MAA4DC,SAAS,GAAGrB,EAAE,CAACqB,SAA3E;AAAA,MAAsFC,IAAI,GAAGtB,EAAE,CAACsB,IAAhG;AAAA,MAAsGC,KAAK,GAAGvB,EAAE,CAACuB,KAAjH;AACA,SAAQ/B,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACJjC,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACIjC,KAAK,CAACgC,aAAN,CAAoB,OAApB,EAA6B;AAAEE,IAAAA,GAAG,EAAEnB;AAAP,GAA7B,EACIf,KAAK,CAACgC,aAAN,CAAoB,QAApB,EAA8B;AAAE,mBAAe,cAAjB;AAAiCG,IAAAA,GAAG,EAAER,SAAtC;AAAiDS,IAAAA,IAAI,EAAE;AAAvD,GAA9B,CADJ,CADJ,EAGIpC,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACIjC,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EAA6E,CAACvB,SAAD,GAAcV,KAAK,CAACgC,aAAN,CAAoB,QAApB,EAA8B;AAAEC,IAAAA,SAAS,EAAE,gCAAb;AAA+C,mBAAe,YAA9D;AAA4EI,IAAAA,OAAO,EAAE,YAAY;AAAE,aAAO1B,YAAY,CAAC,IAAD,CAAnB;AAA4B;AAA/H,GAA9B,EACvFX,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEM,IAAAA,MAAM,EAAE,IAAV;AAAgBC,IAAAA,OAAO,EAAE,WAAzB;AAAsCC,IAAAA,KAAK,EAAE,IAA7C;AAAmDC,IAAAA,KAAK,EAAE;AAA1D,GAA3B,EACIzC,KAAK,CAACgC,aAAN,CAAoB,MAApB,EAA4B;AAAEU,IAAAA,CAAC,EAAE,mXAAL;AAA0XC,IAAAA,QAAQ,EAAE;AAApY,GAA5B,CADJ,CADuF,CAAd,GAE8W3C,KAAK,CAACgC,aAAN,CAAoB,QAApB,EAA8B;AAAEC,IAAAA,SAAS,EAAE,gCAAb;AAA+C,mBAAe,aAA9D;AAA6EI,IAAAA,OAAO,EAAE,YAAY;AAAE,aAAO1B,YAAY,CAAC,KAAD,CAAnB;AAA6B;AAAjI,GAA9B,EACvbX,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEM,IAAAA,MAAM,EAAE,IAAV;AAAgBC,IAAAA,OAAO,EAAE,WAAzB;AAAsCC,IAAAA,KAAK,EAAE,IAA7C;AAAmDC,IAAAA,KAAK,EAAE;AAA1D,GAA3B,EACIzC,KAAK,CAACgC,aAAN,CAAoB,MAApB,EAA4B;AAAEU,IAAAA,CAAC,EAAE,0fAAL;AAAigBC,IAAAA,QAAQ,EAAE;AAA3gB,GAA5B,CADJ,CADub,CAF3b,CADJ,EAMId,SAAS,IAAI7B,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEY,IAAAA,GAAG,EAAE,KAAKhB,WAAZ;AAAyBO,IAAAA,GAAG,EAAEN;AAA9B,GAA3B,CANjB,CAHJ,EAUI7B,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACIjC,KAAK,CAACgC,aAAN,CAAoB,MAApB,EAA4B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA5B,EACIjC,KAAK,CAACgC,aAAN,CAAoB,QAApB,EAA8B,IAA9B,EAAoCD,KAApC,CADJ,CADJ,EAGI/B,KAAK,CAACgC,aAAN,CAAoB,MAApB,EAA4B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA5B,EAAiFH,IAAjF,CAHJ,EAII9B,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACIjC,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAAE,mBAAe,gBAAjB;AAAmCa,IAAAA,KAAK,EAAE;AAAEL,MAAAA,KAAK,EAAE3B,QAAQ,GAAG;AAApB;AAA1C,GAA3B,CADJ,CAJJ,CAVJ,CADI,CAAR;AAiBH,CA7CD;AA8CA;AACA;AACA;;;AACA,OAAO,IAAIiC,KAAK,GAAG9C,KAAK,CAAC+C,IAAN,CAAWzC,eAAX,CAAZ","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nvar progressUpdateInterval = 500;\nvar UnMemoizedAudio = function (props) {\n    var og = props.og;\n    var _a = useState(false), isPlaying = _a[0], setIsPlaying = _a[1];\n    var _b = useState(0), progress = _b[0], setProgress = _b[1];\n    var audioRef = useRef(null);\n    var updateProgress = useCallback(function () {\n        if (audioRef.current !== null) {\n            var position = audioRef.current.currentTime;\n            var duration = audioRef.current.duration;\n            var currentProgress = (100 / duration) * position;\n            setProgress(currentProgress);\n            if (position === duration) {\n                setIsPlaying(false);\n            }\n        }\n    }, [audioRef]);\n    useEffect(function () {\n        if (audioRef.current !== null) {\n            if (isPlaying) {\n                audioRef.current.play();\n                var interval_1 = setInterval(updateProgress, progressUpdateInterval);\n                return function () { return clearInterval(interval_1); };\n            }\n            audioRef.current.pause();\n        }\n        return;\n    }, [isPlaying, updateProgress]);\n    var asset_url = og.asset_url, description = og.description, image_url = og.image_url, text = og.text, title = og.title;\n    return (React.createElement(\"div\", { className: 'str-chat__audio' },\n        React.createElement(\"div\", { className: 'str-chat__audio__wrapper' },\n            React.createElement(\"audio\", { ref: audioRef },\n                React.createElement(\"source\", { \"data-testid\": 'audio-source', src: asset_url, type: 'audio/mp3' })),\n            React.createElement(\"div\", { className: 'str-chat__audio__image' },\n                React.createElement(\"div\", { className: 'str-chat__audio__image--overlay' }, !isPlaying ? (React.createElement(\"button\", { className: 'str-chat__audio__image--button', \"data-testid\": 'play-audio', onClick: function () { return setIsPlaying(true); } },\n                    React.createElement(\"svg\", { height: '40', viewBox: '0 0 64 64', width: '40', xmlns: 'http://www.w3.org/2000/svg' },\n                        React.createElement(\"path\", { d: 'M32 58c14.36 0 26-11.64 26-26S46.36 6 32 6 6 17.64 6 32s11.64 26 26 26zm0 6C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm13.237-28.412L26.135 45.625a3.27 3.27 0 0 1-4.426-1.4 3.319 3.319 0 0 1-.372-1.47L21 23.36c-.032-1.823 1.41-3.327 3.222-3.358a3.263 3.263 0 0 1 1.473.322l19.438 9.36a3.311 3.311 0 0 1 .103 5.905z', fillRule: 'nonzero' })))) : (React.createElement(\"button\", { className: 'str-chat__audio__image--button', \"data-testid\": 'pause-audio', onClick: function () { return setIsPlaying(false); } },\n                    React.createElement(\"svg\", { height: '40', viewBox: '0 0 64 64', width: '40', xmlns: 'http://www.w3.org/2000/svg' },\n                        React.createElement(\"path\", { d: 'M32 58.215c14.478 0 26.215-11.737 26.215-26.215S46.478 5.785 32 5.785 5.785 17.522 5.785 32 17.522 58.215 32 58.215zM32 64C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32zm-7.412-45.56h2.892a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.892a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17zm12.293 0h2.893a2.17 2.17 0 0 1 2.17 2.17v23.865a2.17 2.17 0 0 1-2.17 2.17h-2.893a2.17 2.17 0 0 1-2.17-2.17V20.61a2.17 2.17 0 0 1 2.17-2.17z', fillRule: 'nonzero' }))))),\n                image_url && React.createElement(\"img\", { alt: \"\" + description, src: image_url })),\n            React.createElement(\"div\", { className: 'str-chat__audio__content' },\n                React.createElement(\"span\", { className: 'str-chat__audio__content--title' },\n                    React.createElement(\"strong\", null, title)),\n                React.createElement(\"span\", { className: 'str-chat__audio__content--subtitle' }, text),\n                React.createElement(\"div\", { className: 'str-chat__audio__content--progress' },\n                    React.createElement(\"div\", { \"data-testid\": 'audio-progress', style: { width: progress + \"%\" } }))))));\n};\n/**\n * Audio attachment with play/pause button and progress bar\n */\nexport var Audio = React.memo(UnMemoizedAudio);\n"]},"metadata":{},"sourceType":"module"}