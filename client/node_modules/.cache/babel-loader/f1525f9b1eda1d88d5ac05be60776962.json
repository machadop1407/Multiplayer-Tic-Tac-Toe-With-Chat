{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { deTranslations, enTranslations, esTranslations, frTranslations, hiTranslations, itTranslations, jaTranslations, koTranslations, nlTranslations, ptTranslations, ruTranslations, trTranslations } from './translations';\nvar defaultNS = 'translation';\nvar defaultLng = 'en';\nimport 'dayjs/locale/de';\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/ja';\nimport 'dayjs/locale/ko';\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr'; // These locale imports also set these locale globally.\n// So As a last step I am going to import english locale\n// to make sure I don't mess up language at other places in app.\n\nimport 'dayjs/locale/en';\nDayjs.extend(updateLocale);\nDayjs.updateLocale('de', {\n  calendar: {\n    lastDay: '[gestern um] LT',\n    lastWeek: '[letzten] dddd [bei] LT',\n    nextDay: '[morgen zu] LT',\n    nextWeek: 'dddd [bei] LT',\n    sameDay: '[heute um] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('es', {\n  calendar: {\n    lastDay: '[ayer a las] LT',\n    lastWeek: '[pasado] dddd [a] LT',\n    nextDay: '[mañana a] LT',\n    nextWeek: 'dddd [a] LT',\n    sameDay: '[hoy a las] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('fr', {\n  calendar: {\n    lastDay: '[Hier à] LT',\n    lastWeek: 'dddd [dernier à] LT',\n    nextDay: '[Demain à] LT',\n    nextWeek: 'dddd [à] LT',\n    sameDay: '[Aujourd’hui à] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('hi', {\n  calendar: {\n    lastDay: '[कल] LT',\n    lastWeek: '[पिछले] dddd, LT',\n    nextDay: '[कल] LT',\n    nextWeek: 'dddd, LT',\n    sameDay: '[आज] LT',\n    sameElse: 'L'\n  },\n  // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n  // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n  meridiem: function (hour) {\n    if (hour < 4) {\n      return 'रात';\n    } else if (hour < 10) {\n      return 'सुबह';\n    } else if (hour < 17) {\n      return 'दोपहर';\n    } else if (hour < 20) {\n      return 'शाम';\n    } else {\n      return 'रात';\n    }\n  },\n  meridiemHour: function (hour, meridiem) {\n    if (hour === 12) {\n      hour = 0;\n    }\n\n    if (meridiem === 'रात') {\n      return hour < 4 ? hour : hour + 12;\n    } else if (meridiem === 'सुबह') {\n      return hour;\n    } else if (meridiem === 'दोपहर') {\n      return hour >= 10 ? hour : hour + 12;\n    } else if (meridiem === 'शाम') {\n      return hour + 12;\n    }\n\n    return hour;\n  },\n  meridiemParse: /रात|सुबह|दोपहर|शाम/\n});\nDayjs.updateLocale('it', {\n  calendar: {\n    lastDay: '[Ieri alle] LT',\n    lastWeek: '[lo scorso] dddd [alle] LT',\n    nextDay: '[Domani alle] LT',\n    nextWeek: 'dddd [alle] LT',\n    sameDay: '[Oggi alle] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ja', {\n  calendar: {\n    lastDay: '[昨日] LT',\n    lastWeek: 'dddd LT',\n    nextDay: '[明日] LT',\n    nextWeek: '[次の] dddd LT',\n    sameDay: '[今日] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ko', {\n  calendar: {\n    lastDay: '[어제] LT',\n    lastWeek: '[지난] dddd LT',\n    nextDay: '[내일] LT',\n    nextWeek: 'dddd LT',\n    sameDay: '[오늘] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('nl', {\n  calendar: {\n    lastDay: '[gisteren om] LT',\n    lastWeek: '[afgelopen] dddd [om] LT',\n    nextDay: '[morgen om] LT',\n    nextWeek: 'dddd [om] LT',\n    sameDay: '[vandaag om] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('pt', {\n  calendar: {\n    lastDay: '[ontem às] LT',\n    lastWeek: '[passado] dddd [para] LT',\n    nextDay: '[amanhã às] LT',\n    nextWeek: 'dddd [para] LT',\n    sameDay: '[hoje às] LT',\n    sameElse: 'L'\n  }\n});\nDayjs.updateLocale('ru', {\n  calendar: {\n    lastDay: '[Вчера, в] LT',\n    nextDay: '[Завтра, в] LT',\n    sameDay: '[Сегодня, в] LT'\n  }\n});\nDayjs.updateLocale('tr', {\n  calendar: {\n    lastDay: '[dün] LT',\n    lastWeek: '[geçen] dddd [saat] LT',\n    nextDay: '[yarın saat] LT',\n    nextWeek: '[gelecek] dddd [saat] LT',\n    sameDay: '[bugün saat] LT',\n    sameElse: 'L'\n  }\n});\nvar en_locale = {\n  formats: {},\n  months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n  relativeTime: {},\n  weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n}; // Type guards to check DayJs\n\nvar isDayJs = function (dateTimeParser) {\n  return dateTimeParser.extend !== undefined;\n};\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related translations.\n * Instance of this class should be provided to Chat component to handle translations.\n * Stream provides following list of in-built translations:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n * 8. Spanish (es)\n * 9. Portuguese (pt)\n * 10. German (de)\n * 11. Japanese (ja)\n * 12. Korean (ko)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': 'काहीही नाही  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime translations\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': 'काहीही नाही  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream compoments, you can set `disableDateTimeTranslations` to true.\n *\n */\n\n\nvar defaultStreami18nOptions = {\n  DateTimeParser: Dayjs,\n  dayjsLocaleConfigForLanguage: null,\n  debug: false,\n  disableDateTimeTranslations: false,\n  language: 'en',\n  logger: function (message) {\n    return console.warn(message);\n  }\n};\n\nvar Streami18n =\n/** @class */\nfunction () {\n  /**\n   * Constructor accepts following options:\n   *  - language (String) default: 'en'\n   *    Language code e.g., en, tr\n   *\n   *  - translationsForLanguage (object)\n   *    Translations object. Please check src/i18n/en.json for example.\n   *\n   *  - disableDateTimeTranslations (boolean) default: false\n   *    Disable translations for date-times\n   *\n   *  - debug (boolean) default: false\n   *    Enable debug mode in internal i18n class\n   *\n   *  - logger (function) default: () => {}\n   *    Logger function to log warnings/errors from this class\n   *\n   *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n   *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n   *    corresponding to language (param)\n   *\n   *  - DateTimeParser (function) Moment or Dayjs instance/function.\n   *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n   *\n   * @param {*} options\n   */\n  function Streami18n(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.i18nInstance = i18n.createInstance();\n    this.Dayjs = null;\n\n    this.setLanguageCallback = function () {\n      return null;\n    };\n\n    this.initialized = false;\n\n    this.t = function (key) {\n      return key;\n    };\n\n    this.translations = {\n      de: (_a = {}, _a[defaultNS] = deTranslations, _a),\n      en: (_b = {}, _b[defaultNS] = enTranslations, _b),\n      es: (_c = {}, _c[defaultNS] = esTranslations, _c),\n      fr: (_d = {}, _d[defaultNS] = frTranslations, _d),\n      hi: (_e = {}, _e[defaultNS] = hiTranslations, _e),\n      it: (_f = {}, _f[defaultNS] = itTranslations, _f),\n      ja: (_g = {}, _g[defaultNS] = jaTranslations, _g),\n      ko: (_h = {}, _h[defaultNS] = koTranslations, _h),\n      nl: (_j = {}, _j[defaultNS] = nlTranslations, _j),\n      pt: (_k = {}, _k[defaultNS] = ptTranslations, _k),\n      ru: (_l = {}, _l[defaultNS] = ruTranslations, _l),\n      tr: (_m = {}, _m[defaultNS] = trTranslations, _m)\n    };\n    /**\n     * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n     * when user calls registerTranslation() function. So instead we will store the locale configs\n     * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n     * with moment, when setLanguage is called.\n     * */\n\n    this.dayjsLocales = {};\n\n    this.localeExists = function (language) {\n      if (_this.isCustomDateTimeParser) return true;\n      return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n    };\n\n    this.validateCurrentLanguage = function () {\n      var availableLanguages = Object.keys(_this.translations);\n\n      if (availableLanguages.indexOf(_this.currentLanguage) === -1) {\n        _this.logger(\"Streami18n: '\" + _this.currentLanguage + \"' language is not registered.\" + (\" Please make sure to call streami18n.registerTranslation('\" + _this.currentLanguage + \"', {...}) or \") + (\"use one the built-in supported languages - \" + _this.getAvailableLanguages()));\n\n        _this.currentLanguage = defaultLng;\n      }\n    };\n    /** Returns an instance of i18next used within this class instance */\n\n\n    this.geti18Instance = function () {\n      return _this.i18nInstance;\n    };\n    /** Returns list of available languages. */\n\n\n    this.getAvailableLanguages = function () {\n      return Object.keys(_this.translations);\n    };\n    /** Returns all the translation dictionary for all inbuilt-languages */\n\n\n    this.getTranslations = function () {\n      return _this.translations;\n    };\n\n    var finalOptions = __assign(__assign({}, defaultStreami18nOptions), options); // Prepare the i18next configuration.\n\n\n    this.logger = finalOptions.logger;\n    this.currentLanguage = finalOptions.language;\n    this.DateTimeParser = finalOptions.DateTimeParser;\n\n    try {\n      if (this.DateTimeParser && isDayJs(this.DateTimeParser)) {\n        this.DateTimeParser.extend(LocalizedFormat);\n        this.DateTimeParser.extend(calendar);\n        this.DateTimeParser.extend(localeData);\n        this.DateTimeParser.extend(relativeTime);\n      }\n    } catch (error) {\n      throw Error(\"Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins \" + error);\n    }\n\n    this.isCustomDateTimeParser = !!options.DateTimeParser;\n    var translationsForLanguage = finalOptions.translationsForLanguage;\n\n    if (translationsForLanguage) {\n      this.translations[this.currentLanguage] = (_o = {}, _o[defaultNS] = this.translations[this.currentLanguage] && this.translations[this.currentLanguage][defaultNS] ? __assign(__assign({}, this.translations[this.currentLanguage][defaultNS]), translationsForLanguage) : translationsForLanguage, _o);\n    } // If translations don't exist for given language, then set it as empty object.\n\n\n    if (!this.translations[this.currentLanguage]) {\n      this.translations[this.currentLanguage] = (_p = {}, _p[defaultNS] = {}, _p);\n    }\n\n    this.i18nextConfig = {\n      debug: finalOptions.debug,\n      fallbackLng: false,\n      interpolation: {\n        escapeValue: false\n      },\n      keySeparator: false,\n      lng: this.currentLanguage,\n      nsSeparator: false,\n      parseMissingKeyHandler: function (key) {\n        _this.logger(\"Streami18n: Missing translation for key: \" + key);\n\n        return key;\n      }\n    };\n    this.validateCurrentLanguage();\n    var dayjsLocaleConfigForLanguage = finalOptions.dayjsLocaleConfigForLanguage;\n\n    if (dayjsLocaleConfigForLanguage) {\n      this.addOrUpdateLocale(this.currentLanguage, __assign({}, dayjsLocaleConfigForLanguage));\n    } else if (!this.localeExists(this.currentLanguage)) {\n      this.logger(\"Streami18n: Streami18n(...) - Locale config for \" + this.currentLanguage + \" does not exist in momentjs.\" + (\"Please import the locale file using \\\"import 'moment/locale/\" + this.currentLanguage + \"';\\\" in your app or \") + \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n    }\n\n    this.tDateTimeParser = function (timestamp) {\n      if (finalOptions.disableDateTimeTranslations || !_this.localeExists(_this.currentLanguage)) {\n        /**\n         * TS needs to know which is being called to accept the chain call\n         */\n        if (isDayJs(_this.DateTimeParser)) {\n          return _this.DateTimeParser(timestamp).locale(defaultLng);\n        }\n\n        return _this.DateTimeParser(timestamp).locale(defaultLng);\n      }\n\n      if (isDayJs(_this.DateTimeParser)) {\n        return _this.DateTimeParser(timestamp).locale(_this.currentLanguage);\n      }\n\n      return _this.DateTimeParser(timestamp).locale(_this.currentLanguage);\n    };\n  }\n  /**\n   * Initializes the i18next instance with configuration (which enables natural language as default keys)\n   */\n\n\n  Streami18n.prototype.init = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, error_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            this.validateCurrentLanguage();\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 3,, 4]);\n\n            _a = this;\n            return [4\n            /*yield*/\n            , this.i18nInstance.init(__assign(__assign({}, this.i18nextConfig), {\n              lng: this.currentLanguage,\n              resources: this.translations\n            }))];\n\n          case 2:\n            _a.t = _b.sent();\n            this.initialized = true;\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            error_1 = _b.sent();\n            this.logger(\"Something went wrong with init: \" + JSON.stringify(error_1));\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            , {\n              t: this.t,\n              tDateTimeParser: this.tDateTimeParser\n            }];\n        }\n      });\n    });\n  };\n  /**\n   * Returns current version translator function.\n   */\n\n\n  Streami18n.prototype.getTranslators = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!!this.initialized) return [3\n            /*break*/\n            , 2];\n\n            if (this.dayjsLocales[this.currentLanguage]) {\n              this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n            }\n\n            return [4\n            /*yield*/\n            , this.init()];\n\n          case 1:\n            return [2\n            /*return*/\n            , _a.sent()];\n\n          case 2:\n            return [2\n            /*return*/\n            , {\n              t: this.t,\n              tDateTimeParser: this.tDateTimeParser\n            }];\n        }\n      });\n    });\n  };\n\n  Streami18n.prototype.registerTranslation = function (language, translation, customDayjsLocale) {\n    var _a;\n\n    if (!translation) {\n      this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation\");\n      return;\n    }\n\n    if (!this.translations[language]) {\n      this.translations[language] = (_a = {}, _a[defaultNS] = translation, _a);\n    } else {\n      this.translations[language][defaultNS] = translation;\n    }\n\n    if (customDayjsLocale) {\n      this.dayjsLocales[language] = __assign({}, customDayjsLocale);\n    } else if (!this.localeExists(language)) {\n      this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) - \" + (\"Locale config for \" + language + \" does not exist in Dayjs.\") + (\"Please import the locale file using \\\"import 'dayjs/locale/\" + language + \"';\\\" in your app or \") + \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n    }\n\n    if (this.initialized) {\n      this.i18nInstance.addResources(language, defaultNS, translation);\n    }\n  };\n\n  Streami18n.prototype.addOrUpdateLocale = function (key, config) {\n    if (this.localeExists(key)) {\n      Dayjs.updateLocale(key, __assign({}, config));\n    } else {\n      // Merging the custom locale config with en config, so missing keys can default to english.\n      Dayjs.locale(__assign(__assign({\n        name: key\n      }, en_locale), config), undefined, true);\n    }\n  };\n\n  Streami18n.prototype.setLanguage = function (language) {\n    return __awaiter(this, void 0, void 0, function () {\n      var t, error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.currentLanguage = language;\n            if (!this.initialized) return [2\n            /*return*/\n            ];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , this.i18nInstance.changeLanguage(language)];\n\n          case 2:\n            t = _a.sent();\n\n            if (this.dayjsLocales[language]) {\n              this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n            }\n\n            this.setLanguageCallback(t);\n            return [2\n            /*return*/\n            , t];\n\n          case 3:\n            error_2 = _a.sent();\n            this.logger(\"Failed to set language: \" + JSON.stringify(error_2));\n            return [2\n            /*return*/\n            , this.t];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Streami18n.prototype.registerSetLanguageCallback = function (callback) {\n    this.setLanguageCallback = callback;\n  };\n\n  return Streami18n;\n}();\n\nexport { Streami18n };","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/i18n/Streami18n.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","i18n","Dayjs","calendar","updateLocale","LocalizedFormat","localeData","relativeTime","deTranslations","enTranslations","esTranslations","frTranslations","hiTranslations","itTranslations","jaTranslations","koTranslations","nlTranslations","ptTranslations","ruTranslations","trTranslations","defaultNS","defaultLng","extend","lastDay","lastWeek","nextDay","nextWeek","sameDay","sameElse","meridiem","hour","meridiemHour","meridiemParse","en_locale","formats","months","weekdays","isDayJs","dateTimeParser","undefined","defaultStreami18nOptions","DateTimeParser","dayjsLocaleConfigForLanguage","debug","disableDateTimeTranslations","language","logger","message","console","warn","Streami18n","options","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_this","i18nInstance","createInstance","setLanguageCallback","initialized","key","translations","de","en","es","fr","hi","it","ja","ko","nl","pt","ru","tr","dayjsLocales","localeExists","isCustomDateTimeParser","keys","Ls","indexOf","validateCurrentLanguage","availableLanguages","currentLanguage","getAvailableLanguages","geti18Instance","getTranslations","finalOptions","error","Error","translationsForLanguage","i18nextConfig","fallbackLng","interpolation","escapeValue","keySeparator","lng","nsSeparator","parseMissingKeyHandler","addOrUpdateLocale","tDateTimeParser","timestamp","locale","init","error_1","resources","JSON","stringify","getTranslators","registerTranslation","translation","customDayjsLocale","addResources","config","name","setLanguage","error_2","changeLanguage","registerSetLanguageCallback","callback"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,wBAAwB,GAAG;AAC3BC,EAAAA,cAAc,EAAEvC,KADW;AAE3BwC,EAAAA,4BAA4B,EAAE,IAFH;AAG3BC,EAAAA,KAAK,EAAE,KAHoB;AAI3BC,EAAAA,2BAA2B,EAAE,KAJF;AAK3BC,EAAAA,QAAQ,EAAE,IALiB;AAM3BC,EAAAA,MAAM,EAAE,UAAUC,OAAV,EAAmB;AAAE,WAAOC,OAAO,CAACC,IAAR,CAAaF,OAAb,CAAP;AAA+B;AANjC,CAA/B;;AAQA,IAAIG,UAAU;AAAG;AAAe,YAAY;AACxC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI,WAASA,UAAT,CAAoBC,OAApB,EAA6B;AACzB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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport i18n from 'i18next';\nimport Dayjs from 'dayjs';\nimport calendar from 'dayjs/plugin/calendar';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport localeData from 'dayjs/plugin/localeData';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { deTranslations, enTranslations, esTranslations, frTranslations, hiTranslations, itTranslations, jaTranslations, koTranslations, nlTranslations, ptTranslations, ruTranslations, trTranslations, } from './translations';\nvar defaultNS = 'translation';\nvar defaultLng = 'en';\nimport 'dayjs/locale/de';\nimport 'dayjs/locale/es';\nimport 'dayjs/locale/fr';\nimport 'dayjs/locale/hi';\nimport 'dayjs/locale/it';\nimport 'dayjs/locale/ja';\nimport 'dayjs/locale/ko';\nimport 'dayjs/locale/nl';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/ru';\nimport 'dayjs/locale/tr';\n// These locale imports also set these locale globally.\n// So As a last step I am going to import english locale\n// to make sure I don't mess up language at other places in app.\nimport 'dayjs/locale/en';\nDayjs.extend(updateLocale);\nDayjs.updateLocale('de', {\n    calendar: {\n        lastDay: '[gestern um] LT',\n        lastWeek: '[letzten] dddd [bei] LT',\n        nextDay: '[morgen zu] LT',\n        nextWeek: 'dddd [bei] LT',\n        sameDay: '[heute um] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('es', {\n    calendar: {\n        lastDay: '[ayer a las] LT',\n        lastWeek: '[pasado] dddd [a] LT',\n        nextDay: '[mañana a] LT',\n        nextWeek: 'dddd [a] LT',\n        sameDay: '[hoy a las] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('fr', {\n    calendar: {\n        lastDay: '[Hier à] LT',\n        lastWeek: 'dddd [dernier à] LT',\n        nextDay: '[Demain à] LT',\n        nextWeek: 'dddd [à] LT',\n        sameDay: '[Aujourd’hui à] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('hi', {\n    calendar: {\n        lastDay: '[कल] LT',\n        lastWeek: '[पिछले] dddd, LT',\n        nextDay: '[कल] LT',\n        nextWeek: 'dddd, LT',\n        sameDay: '[आज] LT',\n        sameElse: 'L',\n    },\n    // Hindi notation for meridiems are quite fuzzy in practice. While there exists\n    // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.\n    meridiem: function (hour) {\n        if (hour < 4) {\n            return 'रात';\n        }\n        else if (hour < 10) {\n            return 'सुबह';\n        }\n        else if (hour < 17) {\n            return 'दोपहर';\n        }\n        else if (hour < 20) {\n            return 'शाम';\n        }\n        else {\n            return 'रात';\n        }\n    },\n    meridiemHour: function (hour, meridiem) {\n        if (hour === 12) {\n            hour = 0;\n        }\n        if (meridiem === 'रात') {\n            return hour < 4 ? hour : hour + 12;\n        }\n        else if (meridiem === 'सुबह') {\n            return hour;\n        }\n        else if (meridiem === 'दोपहर') {\n            return hour >= 10 ? hour : hour + 12;\n        }\n        else if (meridiem === 'शाम') {\n            return hour + 12;\n        }\n        return hour;\n    },\n    meridiemParse: /रात|सुबह|दोपहर|शाम/,\n});\nDayjs.updateLocale('it', {\n    calendar: {\n        lastDay: '[Ieri alle] LT',\n        lastWeek: '[lo scorso] dddd [alle] LT',\n        nextDay: '[Domani alle] LT',\n        nextWeek: 'dddd [alle] LT',\n        sameDay: '[Oggi alle] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('ja', {\n    calendar: {\n        lastDay: '[昨日] LT',\n        lastWeek: 'dddd LT',\n        nextDay: '[明日] LT',\n        nextWeek: '[次の] dddd LT',\n        sameDay: '[今日] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('ko', {\n    calendar: {\n        lastDay: '[어제] LT',\n        lastWeek: '[지난] dddd LT',\n        nextDay: '[내일] LT',\n        nextWeek: 'dddd LT',\n        sameDay: '[오늘] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('nl', {\n    calendar: {\n        lastDay: '[gisteren om] LT',\n        lastWeek: '[afgelopen] dddd [om] LT',\n        nextDay: '[morgen om] LT',\n        nextWeek: 'dddd [om] LT',\n        sameDay: '[vandaag om] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('pt', {\n    calendar: {\n        lastDay: '[ontem às] LT',\n        lastWeek: '[passado] dddd [para] LT',\n        nextDay: '[amanhã às] LT',\n        nextWeek: 'dddd [para] LT',\n        sameDay: '[hoje às] LT',\n        sameElse: 'L',\n    },\n});\nDayjs.updateLocale('ru', {\n    calendar: {\n        lastDay: '[Вчера, в] LT',\n        nextDay: '[Завтра, в] LT',\n        sameDay: '[Сегодня, в] LT',\n    },\n});\nDayjs.updateLocale('tr', {\n    calendar: {\n        lastDay: '[dün] LT',\n        lastWeek: '[geçen] dddd [saat] LT',\n        nextDay: '[yarın saat] LT',\n        nextWeek: '[gelecek] dddd [saat] LT',\n        sameDay: '[bugün saat] LT',\n        sameElse: 'L',\n    },\n});\nvar en_locale = {\n    formats: {},\n    months: [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ],\n    relativeTime: {},\n    weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n};\n// Type guards to check DayJs\nvar isDayJs = function (dateTimeParser) {\n    return dateTimeParser.extend !== undefined;\n};\n/**\n * Wrapper around [i18next](https://www.i18next.com/) class for Stream related translations.\n * Instance of this class should be provided to Chat component to handle translations.\n * Stream provides following list of in-built translations:\n * 1. English (en)\n * 2. Dutch (nl)\n * 3. Russian (ru)\n * 4. Turkish (tr)\n * 5. French (fr)\n * 6. Italian (it)\n * 7. Hindi (hi)\n * 8. Spanish (es)\n * 9. Portuguese (pt)\n * 10. German (de)\n * 11. Japanese (ja)\n * 12. Korean (ko)\n *\n * Simplest way to start using chat components in one of the in-built languages would be following:\n *\n * ```\n * const i18n = new Streami18n({ language 'nl' });\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * If you would like to override certain keys in in-built translation.\n * UI will be automatically updated in this case.\n *\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  translationsForLanguage: {\n *    'Nothing yet...': 'Nog Niet ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n *  }\n * });\n *\n * If you would like to register additional languages, use registerTranslation. You can add as many languages as you want:\n *\n * i18n.registerTranslation('zh', {\n *  'Nothing yet...': 'Nog Niet ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} en {{ secondUser }} zijn aan het typen...',\n * });\n *\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * You can use the same function to add whole new language as well.\n *\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation('mr', {\n *  'Nothing yet...': 'काहीही नाही  ...',\n *  '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n * });\n *\n * // Make sure to call setLanguage to reflect new language in UI.\n * i18n.setLanguage('it');\n * <Chat client={chatClient} i18nInstance={i18n}>\n *  ...\n * </Chat>\n * ```\n *\n * ## Datetime translations\n *\n * Stream react chat components uses [dayjs](https://day.js.org/en/) internally by default to format datetime stamp.\n * e.g., in ChannelPreview, MessageContent components.\n * Dayjs has locale support as well - https://day.js.org/docs/en/i18n/i18n\n * Dayjs is a lightweight alternative to Momentjs with the same modern API.\n *\n * Dayjs provides locale config for plenty of languages, you can check the whole list of locale configs at following url\n * https://github.com/iamkun/dayjs/tree/dev/src/locale\n *\n * You can either provide the dayjs locale config while registering\n * language with Streami18n (either via constructor or registerTranslation()) or you can provide your own Dayjs or Moment instance\n * to Streami18n constructor, which will be then used internally (using the language locale) in components.\n *\n * 1. Via language registration\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  dayjsLocaleConfigForLanguage: {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * });\n * ```\n *\n * Similarly, you can add locale config for moment while registering translation via `registerTranslation` function.\n *\n * e.g.,\n * ```\n * const i18n = new Streami18n();\n *\n * i18n.registerTranslation(\n *  'mr',\n *  {\n *    'Nothing yet...': 'काहीही नाही  ...',\n *    '{{ firstUser }} and {{ secondUser }} are typing...': '{{ firstUser }} आणि {{ secondUser }} टीपी करत आहेत ',\n *  },\n *  {\n *    months: [...],\n *    monthsShort: [...],\n *    calendar: {\n *      sameDay: ...'\n *    }\n *  }\n * );\n *```\n * 2. Provide your own Moment object\n *\n * ```js\n * import 'moment/locale/nl';\n * import 'moment/locale/it';\n * // or if you want to include all locales\n * import 'moment/min/locales';\n *\n * import Moment from moment\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Moment\n * })\n * ```\n *\n * 3. Provide your own Dayjs object\n *\n * ```js\n * import Dayjs from 'dayjs'\n *\n * import 'dayjs/locale/nl';\n * import 'dayjs/locale/it';\n * // or if you want to include all locales\n * import 'dayjs/min/locales';\n *\n * const i18n = new Streami18n({\n *  language: 'nl',\n *  DateTimeParser: Dayjs\n * })\n * ```\n * If you would like to stick with english language for datetimes in Stream compoments, you can set `disableDateTimeTranslations` to true.\n *\n */\nvar defaultStreami18nOptions = {\n    DateTimeParser: Dayjs,\n    dayjsLocaleConfigForLanguage: null,\n    debug: false,\n    disableDateTimeTranslations: false,\n    language: 'en',\n    logger: function (message) { return console.warn(message); },\n};\nvar Streami18n = /** @class */ (function () {\n    /**\n     * Constructor accepts following options:\n     *  - language (String) default: 'en'\n     *    Language code e.g., en, tr\n     *\n     *  - translationsForLanguage (object)\n     *    Translations object. Please check src/i18n/en.json for example.\n     *\n     *  - disableDateTimeTranslations (boolean) default: false\n     *    Disable translations for date-times\n     *\n     *  - debug (boolean) default: false\n     *    Enable debug mode in internal i18n class\n     *\n     *  - logger (function) default: () => {}\n     *    Logger function to log warnings/errors from this class\n     *\n     *  - dayjsLocaleConfigForLanguage (object) default: 'enConfig'\n     *    [Config object](https://momentjs.com/docs/#/i18n/changing-locale/) for internal moment object,\n     *    corresponding to language (param)\n     *\n     *  - DateTimeParser (function) Moment or Dayjs instance/function.\n     *    Make sure to load all the required locales in this Moment or Dayjs instance that you will be provide to Streami18n\n     *\n     * @param {*} options\n     */\n    function Streami18n(options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        this.i18nInstance = i18n.createInstance();\n        this.Dayjs = null;\n        this.setLanguageCallback = function () { return null; };\n        this.initialized = false;\n        this.t = function (key) { return key; };\n        this.translations = {\n            de: (_a = {}, _a[defaultNS] = deTranslations, _a),\n            en: (_b = {}, _b[defaultNS] = enTranslations, _b),\n            es: (_c = {}, _c[defaultNS] = esTranslations, _c),\n            fr: (_d = {}, _d[defaultNS] = frTranslations, _d),\n            hi: (_e = {}, _e[defaultNS] = hiTranslations, _e),\n            it: (_f = {}, _f[defaultNS] = itTranslations, _f),\n            ja: (_g = {}, _g[defaultNS] = jaTranslations, _g),\n            ko: (_h = {}, _h[defaultNS] = koTranslations, _h),\n            nl: (_j = {}, _j[defaultNS] = nlTranslations, _j),\n            pt: (_k = {}, _k[defaultNS] = ptTranslations, _k),\n            ru: (_l = {}, _l[defaultNS] = ruTranslations, _l),\n            tr: (_m = {}, _m[defaultNS] = trTranslations, _m),\n        };\n        /**\n         * dayjs.defineLanguage('nl') also changes the global locale. We don't want to do that\n         * when user calls registerTranslation() function. So instead we will store the locale configs\n         * given to registerTranslation() function in `dayjsLocales` object, and register the required locale\n         * with moment, when setLanguage is called.\n         * */\n        this.dayjsLocales = {};\n        this.localeExists = function (language) {\n            if (_this.isCustomDateTimeParser)\n                return true;\n            return Object.keys(Dayjs.Ls).indexOf(language) > -1;\n        };\n        this.validateCurrentLanguage = function () {\n            var availableLanguages = Object.keys(_this.translations);\n            if (availableLanguages.indexOf(_this.currentLanguage) === -1) {\n                _this.logger(\"Streami18n: '\" + _this.currentLanguage + \"' language is not registered.\" +\n                    (\" Please make sure to call streami18n.registerTranslation('\" + _this.currentLanguage + \"', {...}) or \") +\n                    (\"use one the built-in supported languages - \" + _this.getAvailableLanguages()));\n                _this.currentLanguage = defaultLng;\n            }\n        };\n        /** Returns an instance of i18next used within this class instance */\n        this.geti18Instance = function () { return _this.i18nInstance; };\n        /** Returns list of available languages. */\n        this.getAvailableLanguages = function () { return Object.keys(_this.translations); };\n        /** Returns all the translation dictionary for all inbuilt-languages */\n        this.getTranslations = function () { return _this.translations; };\n        var finalOptions = __assign(__assign({}, defaultStreami18nOptions), options);\n        // Prepare the i18next configuration.\n        this.logger = finalOptions.logger;\n        this.currentLanguage = finalOptions.language;\n        this.DateTimeParser = finalOptions.DateTimeParser;\n        try {\n            if (this.DateTimeParser && isDayJs(this.DateTimeParser)) {\n                this.DateTimeParser.extend(LocalizedFormat);\n                this.DateTimeParser.extend(calendar);\n                this.DateTimeParser.extend(localeData);\n                this.DateTimeParser.extend(relativeTime);\n            }\n        }\n        catch (error) {\n            throw Error(\"Streami18n: Looks like you wanted to provide Dayjs instance, but something went wrong while adding plugins \" + error);\n        }\n        this.isCustomDateTimeParser = !!options.DateTimeParser;\n        var translationsForLanguage = finalOptions.translationsForLanguage;\n        if (translationsForLanguage) {\n            this.translations[this.currentLanguage] = (_o = {},\n                _o[defaultNS] = this.translations[this.currentLanguage] &&\n                    this.translations[this.currentLanguage][defaultNS]\n                    ? __assign(__assign({}, this.translations[this.currentLanguage][defaultNS]), translationsForLanguage) : translationsForLanguage,\n                _o);\n        }\n        // If translations don't exist for given language, then set it as empty object.\n        if (!this.translations[this.currentLanguage]) {\n            this.translations[this.currentLanguage] = (_p = {},\n                _p[defaultNS] = {},\n                _p);\n        }\n        this.i18nextConfig = {\n            debug: finalOptions.debug,\n            fallbackLng: false,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: this.currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: function (key) {\n                _this.logger(\"Streami18n: Missing translation for key: \" + key);\n                return key;\n            },\n        };\n        this.validateCurrentLanguage();\n        var dayjsLocaleConfigForLanguage = finalOptions.dayjsLocaleConfigForLanguage;\n        if (dayjsLocaleConfigForLanguage) {\n            this.addOrUpdateLocale(this.currentLanguage, __assign({}, dayjsLocaleConfigForLanguage));\n        }\n        else if (!this.localeExists(this.currentLanguage)) {\n            this.logger(\"Streami18n: Streami18n(...) - Locale config for \" + this.currentLanguage + \" does not exist in momentjs.\" +\n                (\"Please import the locale file using \\\"import 'moment/locale/\" + this.currentLanguage + \"';\\\" in your app or \") +\n                \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n        }\n        this.tDateTimeParser = function (timestamp) {\n            if (finalOptions.disableDateTimeTranslations || !_this.localeExists(_this.currentLanguage)) {\n                /**\n                 * TS needs to know which is being called to accept the chain call\n                 */\n                if (isDayJs(_this.DateTimeParser)) {\n                    return _this.DateTimeParser(timestamp).locale(defaultLng);\n                }\n                return _this.DateTimeParser(timestamp).locale(defaultLng);\n            }\n            if (isDayJs(_this.DateTimeParser)) {\n                return _this.DateTimeParser(timestamp).locale(_this.currentLanguage);\n            }\n            return _this.DateTimeParser(timestamp).locale(_this.currentLanguage);\n        };\n    }\n    /**\n     * Initializes the i18next instance with configuration (which enables natural language as default keys)\n     */\n    Streami18n.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.validateCurrentLanguage();\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        _a = this;\n                        return [4 /*yield*/, this.i18nInstance.init(__assign(__assign({}, this.i18nextConfig), { lng: this.currentLanguage, resources: this.translations }))];\n                    case 2:\n                        _a.t = _b.sent();\n                        this.initialized = true;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _b.sent();\n                        this.logger(\"Something went wrong with init: \" + JSON.stringify(error_1));\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/, {\n                            t: this.t,\n                            tDateTimeParser: this.tDateTimeParser,\n                        }];\n                }\n            });\n        });\n    };\n    /**\n     * Returns current version translator function.\n     */\n    Streami18n.prototype.getTranslators = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.initialized) return [3 /*break*/, 2];\n                        if (this.dayjsLocales[this.currentLanguage]) {\n                            this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n                        }\n                        return [4 /*yield*/, this.init()];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2: return [2 /*return*/, {\n                            t: this.t,\n                            tDateTimeParser: this.tDateTimeParser,\n                        }];\n                }\n            });\n        });\n    };\n    Streami18n.prototype.registerTranslation = function (language, translation, customDayjsLocale) {\n        var _a;\n        if (!translation) {\n            this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) called without translation\");\n            return;\n        }\n        if (!this.translations[language]) {\n            this.translations[language] = (_a = {}, _a[defaultNS] = translation, _a);\n        }\n        else {\n            this.translations[language][defaultNS] = translation;\n        }\n        if (customDayjsLocale) {\n            this.dayjsLocales[language] = __assign({}, customDayjsLocale);\n        }\n        else if (!this.localeExists(language)) {\n            this.logger(\"Streami18n: registerTranslation(language, translation, customDayjsLocale) - \" +\n                (\"Locale config for \" + language + \" does not exist in Dayjs.\") +\n                (\"Please import the locale file using \\\"import 'dayjs/locale/\" + language + \"';\\\" in your app or \") +\n                \"register the locale config with Streami18n using registerTranslation(language, translation, customDayjsLocale)\");\n        }\n        if (this.initialized) {\n            this.i18nInstance.addResources(language, defaultNS, translation);\n        }\n    };\n    Streami18n.prototype.addOrUpdateLocale = function (key, config) {\n        if (this.localeExists(key)) {\n            Dayjs.updateLocale(key, __assign({}, config));\n        }\n        else {\n            // Merging the custom locale config with en config, so missing keys can default to english.\n            Dayjs.locale(__assign(__assign({ name: key }, en_locale), config), undefined, true);\n        }\n    };\n    Streami18n.prototype.setLanguage = function (language) {\n        return __awaiter(this, void 0, void 0, function () {\n            var t, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.currentLanguage = language;\n                        if (!this.initialized)\n                            return [2 /*return*/];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.i18nInstance.changeLanguage(language)];\n                    case 2:\n                        t = _a.sent();\n                        if (this.dayjsLocales[language]) {\n                            this.addOrUpdateLocale(this.currentLanguage, this.dayjsLocales[this.currentLanguage]);\n                        }\n                        this.setLanguageCallback(t);\n                        return [2 /*return*/, t];\n                    case 3:\n                        error_2 = _a.sent();\n                        this.logger(\"Failed to set language: \" + JSON.stringify(error_2));\n                        return [2 /*return*/, this.t];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Streami18n.prototype.registerSetLanguageCallback = function (callback) {\n        this.setLanguageCallback = callback;\n    };\n    return Streami18n;\n}());\nexport { Streami18n };\n"]},"metadata":{},"sourceType":"module"}