{"ast":null,"code":"import { useEffect, useRef } from 'react';\nexport function useShouldForceScrollToBottom(messages, currentUserId) {\n  var lastFocusedOwnMessage = useRef('');\n  var initialFocusRegistered = useRef(false);\n\n  function recheckForNewOwnMessage() {\n    var _a;\n\n    if (messages && messages.length > 0) {\n      var lastMessage = messages[messages.length - 1];\n\n      if (((_a = lastMessage.user) === null || _a === void 0 ? void 0 : _a.id) === currentUserId && lastFocusedOwnMessage.current !== lastMessage.id) {\n        lastFocusedOwnMessage.current = lastMessage.id;\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  useEffect(function () {\n    if (messages && messages.length && !initialFocusRegistered.current) {\n      initialFocusRegistered.current = true;\n      recheckForNewOwnMessage();\n    }\n  }, [messages, messages === null || messages === void 0 ? void 0 : messages.length]);\n  return recheckForNewOwnMessage;\n}","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/MessageList/hooks/useShouldForceScrollToBottom.js"],"names":["useEffect","useRef","useShouldForceScrollToBottom","messages","currentUserId","lastFocusedOwnMessage","initialFocusRegistered","recheckForNewOwnMessage","_a","length","lastMessage","user","id","current"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,OAAO,SAASC,4BAAT,CAAsCC,QAAtC,EAAgDC,aAAhD,EAA+D;AAClE,MAAIC,qBAAqB,GAAGJ,MAAM,CAAC,EAAD,CAAlC;AACA,MAAIK,sBAAsB,GAAGL,MAAM,CAAC,KAAD,CAAnC;;AACA,WAASM,uBAAT,GAAmC;AAC/B,QAAIC,EAAJ;;AACA,QAAIL,QAAQ,IAAIA,QAAQ,CAACM,MAAT,GAAkB,CAAlC,EAAqC;AACjC,UAAIC,WAAW,GAAGP,QAAQ,CAACA,QAAQ,CAACM,MAAT,GAAkB,CAAnB,CAA1B;;AACA,UAAI,CAAC,CAACD,EAAE,GAAGE,WAAW,CAACC,IAAlB,MAA4B,IAA5B,IAAoCH,EAAE,KAAK,KAAK,CAAhD,GAAoD,KAAK,CAAzD,GAA6DA,EAAE,CAACI,EAAjE,MAAyER,aAAzE,IACAC,qBAAqB,CAACQ,OAAtB,KAAkCH,WAAW,CAACE,EADlD,EACsD;AAClDP,QAAAA,qBAAqB,CAACQ,OAAtB,GAAgCH,WAAW,CAACE,EAA5C;AACA,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH;;AACDZ,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAIG,QAAQ,IAAIA,QAAQ,CAACM,MAArB,IAA+B,CAACH,sBAAsB,CAACO,OAA3D,EAAoE;AAChEP,MAAAA,sBAAsB,CAACO,OAAvB,GAAiC,IAAjC;AACAN,MAAAA,uBAAuB;AAC1B;AACJ,GALQ,EAKN,CAACJ,QAAD,EAAWA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,CAACM,MAAxE,CALM,CAAT;AAMA,SAAOF,uBAAP;AACH","sourcesContent":["import { useEffect, useRef } from 'react';\nexport function useShouldForceScrollToBottom(messages, currentUserId) {\n    var lastFocusedOwnMessage = useRef('');\n    var initialFocusRegistered = useRef(false);\n    function recheckForNewOwnMessage() {\n        var _a;\n        if (messages && messages.length > 0) {\n            var lastMessage = messages[messages.length - 1];\n            if (((_a = lastMessage.user) === null || _a === void 0 ? void 0 : _a.id) === currentUserId &&\n                lastFocusedOwnMessage.current !== lastMessage.id) {\n                lastFocusedOwnMessage.current = lastMessage.id;\n                return true;\n            }\n        }\n        return false;\n    }\n    useEffect(function () {\n        if (messages && messages.length && !initialFocusRegistered.current) {\n            initialFocusRegistered.current = true;\n            recheckForNewOwnMessage();\n        }\n    }, [messages, messages === null || messages === void 0 ? void 0 : messages.length]);\n    return recheckForNewOwnMessage;\n}\n"]},"metadata":{},"sourceType":"module"}