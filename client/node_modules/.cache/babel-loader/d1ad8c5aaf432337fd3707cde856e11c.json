{"ast":null,"code":"import { useCallback, useEffect, useRef } from 'react';\nexport var useEmojiPicker = function (state, dispatch, insertText, textareaRef, closeEmojiPickerOnClick) {\n  var emojiPickerRef = useRef(null);\n  var closeEmojiPicker = useCallback(function (event) {\n    event.preventDefault();\n\n    if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n      dispatch({\n        type: 'setEmojiPickerIsOpen',\n        value: false\n      });\n    }\n  }, [emojiPickerRef]);\n  var openEmojiPicker = useCallback(function (event) {\n    event.preventDefault();\n    dispatch({\n      type: 'setEmojiPickerIsOpen',\n      value: true\n    }); // Prevent event from bubbling to document, so the close handler is never called for this event\n\n    event.stopPropagation();\n  }, []);\n\n  var handleEmojiKeyDown = function (event) {\n    if (event.key === ' ' || event.key === 'Enter' || event.key === 'Spacebar') {\n      event.preventDefault();\n      /**\n       * TODO: fix the below at some point because this type casting is wrong\n       * and just forced to not have warnings currently with the unknown casting\n       */\n\n      openEmojiPicker(event);\n    }\n  };\n\n  var handleEmojiEscape = function (event) {\n    if (event.key === 'Escape') {\n      dispatch({\n        type: 'setEmojiPickerIsOpen',\n        value: false\n      });\n    }\n  };\n\n  useEffect(function () {\n    if (state.emojiPickerIsOpen) {\n      document.addEventListener('click', closeEmojiPicker, false);\n      document.addEventListener('keydown', handleEmojiEscape);\n    }\n\n    return function () {\n      document.removeEventListener('click', closeEmojiPicker, false);\n      document.removeEventListener('keydown', handleEmojiEscape);\n    };\n  }, [closeEmojiPicker, state.emojiPickerIsOpen]);\n  var onSelectEmoji = useCallback(function (emoji) {\n    var _a;\n\n    insertText(emoji.native);\n\n    if (closeEmojiPickerOnClick) {\n      dispatch({\n        type: 'setEmojiPickerIsOpen',\n        value: false\n      });\n    }\n\n    (_a = textareaRef === null || textareaRef === void 0 ? void 0 : textareaRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n  }, [insertText]);\n  return {\n    closeEmojiPicker: closeEmojiPicker,\n    emojiPickerRef: emojiPickerRef,\n    handleEmojiKeyDown: handleEmojiKeyDown,\n    onSelectEmoji: onSelectEmoji,\n    openEmojiPicker: openEmojiPicker\n  };\n};","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useEmojiPicker.js"],"names":["useCallback","useEffect","useRef","useEmojiPicker","state","dispatch","insertText","textareaRef","closeEmojiPickerOnClick","emojiPickerRef","closeEmojiPicker","event","preventDefault","current","contains","target","type","value","openEmojiPicker","stopPropagation","handleEmojiKeyDown","key","handleEmojiEscape","emojiPickerIsOpen","document","addEventListener","removeEventListener","onSelectEmoji","emoji","_a","native","focus"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nexport var useEmojiPicker = function (state, dispatch, insertText, textareaRef, closeEmojiPickerOnClick) {\n    var emojiPickerRef = useRef(null);\n    var closeEmojiPicker = useCallback(function (event) {\n        event.preventDefault();\n        if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n            dispatch({\n                type: 'setEmojiPickerIsOpen',\n                value: false,\n            });\n        }\n    }, [emojiPickerRef]);\n    var openEmojiPicker = useCallback(function (event) {\n        event.preventDefault();\n        dispatch({\n            type: 'setEmojiPickerIsOpen',\n            value: true,\n        });\n        // Prevent event from bubbling to document, so the close handler is never called for this event\n        event.stopPropagation();\n    }, []);\n    var handleEmojiKeyDown = function (event) {\n        if (event.key === ' ' || event.key === 'Enter' || event.key === 'Spacebar') {\n            event.preventDefault();\n            /**\n             * TODO: fix the below at some point because this type casting is wrong\n             * and just forced to not have warnings currently with the unknown casting\n             */\n            openEmojiPicker(event);\n        }\n    };\n    var handleEmojiEscape = function (event) {\n        if (event.key === 'Escape') {\n            dispatch({\n                type: 'setEmojiPickerIsOpen',\n                value: false,\n            });\n        }\n    };\n    useEffect(function () {\n        if (state.emojiPickerIsOpen) {\n            document.addEventListener('click', closeEmojiPicker, false);\n            document.addEventListener('keydown', handleEmojiEscape);\n        }\n        return function () {\n            document.removeEventListener('click', closeEmojiPicker, false);\n            document.removeEventListener('keydown', handleEmojiEscape);\n        };\n    }, [closeEmojiPicker, state.emojiPickerIsOpen]);\n    var onSelectEmoji = useCallback(function (emoji) {\n        var _a;\n        insertText(emoji.native);\n        if (closeEmojiPickerOnClick) {\n            dispatch({\n                type: 'setEmojiPickerIsOpen',\n                value: false,\n            });\n        }\n        (_a = textareaRef === null || textareaRef === void 0 ? void 0 : textareaRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }, [insertText]);\n    return {\n        closeEmojiPicker: closeEmojiPicker,\n        emojiPickerRef: emojiPickerRef,\n        handleEmojiKeyDown: handleEmojiKeyDown,\n        onSelectEmoji: onSelectEmoji,\n        openEmojiPicker: openEmojiPicker,\n    };\n};\n"]},"metadata":{},"sourceType":"module"}