{"ast":null,"code":"import React, { useCallback, useEffect, useState } from 'react';\nimport { isChannel } from './utils';\nimport { Avatar } from '../Avatar/Avatar';\nimport { useBreakpoint } from '../Message/hooks/useBreakpoint';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar DefaultDropdownContainer = function (props) {\n  var focusedUser = props.focusedUser,\n      results = props.results,\n      _a = props.SearchResultItem,\n      SearchResultItem = _a === void 0 ? DefaultSearchResultItem : _a,\n      selectResult = props.selectResult;\n  return React.createElement(React.Fragment, null, results.map(function (result, index) {\n    return React.createElement(SearchResultItem, {\n      focusedUser: focusedUser,\n      index: index,\n      key: index,\n      result: result,\n      selectResult: selectResult\n    });\n  }));\n};\n\nvar DefaultSearchResultItem = function (props) {\n  var _a, _b;\n\n  var focusedUser = props.focusedUser,\n      index = props.index,\n      result = props.result,\n      selectResult = props.selectResult;\n  var focused = focusedUser === index;\n\n  if (isChannel(result)) {\n    var channel_1 = result;\n    return React.createElement(\"button\", {\n      \"aria-label\": \"Select Channel: \" + (((_a = channel_1.data) === null || _a === void 0 ? void 0 : _a.name) || ''),\n      className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''),\n      onClick: function () {\n        return selectResult(channel_1);\n      }\n    }, React.createElement(\"div\", {\n      className: 'result-hashtag'\n    }, \"#\"), React.createElement(\"p\", {\n      className: 'channel-search__result-text'\n    }, (_b = channel_1.data) === null || _b === void 0 ? void 0 : _b.name));\n  } else {\n    return React.createElement(\"button\", {\n      \"aria-label\": \"Select User Channel: \" + (result.name || ''),\n      className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''),\n      onClick: function () {\n        return selectResult(result);\n      }\n    }, React.createElement(Avatar, {\n      image: result.image,\n      user: result\n    }), result.name || result.id);\n  }\n};\n\nexport var SearchResults = function (props) {\n  var _a = props.DropdownContainer,\n      DropdownContainer = _a === void 0 ? DefaultDropdownContainer : _a,\n      popupResults = props.popupResults,\n      results = props.results,\n      searching = props.searching,\n      SearchEmpty = props.SearchEmpty,\n      SearchResultsHeader = props.SearchResultsHeader,\n      SearchLoading = props.SearchLoading,\n      _b = props.SearchResultItem,\n      SearchResultItem = _b === void 0 ? DefaultSearchResultItem : _b,\n      selectResult = props.selectResult;\n  var t = useTranslationContext('SearchResults').t;\n\n  var _c = useState(),\n      focusedUser = _c[0],\n      setFocusedUser = _c[1];\n\n  var device = useBreakpoint().device;\n  var containerStyle = popupResults && device === 'full' ? 'popup' : 'inline';\n\n  var ResultsContainer = function (_a) {\n    var children = _a.children;\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-container \" + containerStyle\n    }, children);\n  };\n\n  var handleKeyDown = useCallback(function (event) {\n    if (event.key === 'ArrowUp') {\n      setFocusedUser(function (prevFocused) {\n        if (prevFocused === undefined) return 0;\n        return prevFocused === 0 ? results.length - 1 : prevFocused - 1;\n      });\n    }\n\n    if (event.key === 'ArrowDown') {\n      setFocusedUser(function (prevFocused) {\n        if (prevFocused === undefined) return 0;\n        return prevFocused === results.length - 1 ? 0 : prevFocused + 1;\n      });\n    }\n\n    if (event.key === 'Enter') {\n      event.preventDefault();\n\n      if (focusedUser !== undefined) {\n        selectResult(results[focusedUser]);\n        return setFocusedUser(undefined);\n      }\n    }\n  }, [focusedUser]);\n  useEffect(function () {\n    document.addEventListener('keydown', handleKeyDown, false);\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  if (searching) {\n    return React.createElement(ResultsContainer, null, SearchLoading ? React.createElement(SearchLoading, null) : React.createElement(\"div\", {\n      className: 'str-chat__channel-search-container-searching'\n    }, t('Searching...')));\n  }\n\n  if (!results.length) {\n    return React.createElement(ResultsContainer, null, SearchEmpty ? React.createElement(SearchEmpty, null) : React.createElement(\"div\", {\n      \"aria-live\": 'polite',\n      className: 'str-chat__channel-search-container-empty'\n    }, t('No results found')));\n  }\n\n  return React.createElement(ResultsContainer, null, SearchResultsHeader && React.createElement(SearchResultsHeader, null), React.createElement(DropdownContainer, {\n    focusedUser: focusedUser,\n    results: results,\n    SearchResultItem: SearchResultItem,\n    selectResult: selectResult\n  }));\n};","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/ChannelSearch/SearchResults.js"],"names":["React","useCallback","useEffect","useState","isChannel","Avatar","useBreakpoint","useTranslationContext","DefaultDropdownContainer","props","focusedUser","results","_a","SearchResultItem","DefaultSearchResultItem","selectResult","createElement","Fragment","map","result","index","key","_b","focused","channel_1","data","name","className","onClick","image","user","id","SearchResults","DropdownContainer","popupResults","searching","SearchEmpty","SearchResultsHeader","SearchLoading","t","_c","setFocusedUser","device","containerStyle","ResultsContainer","children","handleKeyDown","event","prevFocused","undefined","length","preventDefault","document","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { isChannel } from './utils';\nimport { Avatar } from '../Avatar/Avatar';\nimport { useBreakpoint } from '../Message/hooks/useBreakpoint';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar DefaultDropdownContainer = function (props) {\n    var focusedUser = props.focusedUser, results = props.results, _a = props.SearchResultItem, SearchResultItem = _a === void 0 ? DefaultSearchResultItem : _a, selectResult = props.selectResult;\n    return (React.createElement(React.Fragment, null, results.map(function (result, index) { return (React.createElement(SearchResultItem, { focusedUser: focusedUser, index: index, key: index, result: result, selectResult: selectResult })); })));\n};\nvar DefaultSearchResultItem = function (props) {\n    var _a, _b;\n    var focusedUser = props.focusedUser, index = props.index, result = props.result, selectResult = props.selectResult;\n    var focused = focusedUser === index;\n    if (isChannel(result)) {\n        var channel_1 = result;\n        return (React.createElement(\"button\", { \"aria-label\": \"Select Channel: \" + (((_a = channel_1.data) === null || _a === void 0 ? void 0 : _a.name) || ''), className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''), onClick: function () { return selectResult(channel_1); } },\n            React.createElement(\"div\", { className: 'result-hashtag' }, \"#\"),\n            React.createElement(\"p\", { className: 'channel-search__result-text' }, (_b = channel_1.data) === null || _b === void 0 ? void 0 : _b.name)));\n    }\n    else {\n        return (React.createElement(\"button\", { \"aria-label\": \"Select User Channel: \" + (result.name || ''), className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''), onClick: function () { return selectResult(result); } },\n            React.createElement(Avatar, { image: result.image, user: result }),\n            result.name || result.id));\n    }\n};\nexport var SearchResults = function (props) {\n    var _a = props.DropdownContainer, DropdownContainer = _a === void 0 ? DefaultDropdownContainer : _a, popupResults = props.popupResults, results = props.results, searching = props.searching, SearchEmpty = props.SearchEmpty, SearchResultsHeader = props.SearchResultsHeader, SearchLoading = props.SearchLoading, _b = props.SearchResultItem, SearchResultItem = _b === void 0 ? DefaultSearchResultItem : _b, selectResult = props.selectResult;\n    var t = useTranslationContext('SearchResults').t;\n    var _c = useState(), focusedUser = _c[0], setFocusedUser = _c[1];\n    var device = useBreakpoint().device;\n    var containerStyle = popupResults && device === 'full' ? 'popup' : 'inline';\n    var ResultsContainer = function (_a) {\n        var children = _a.children;\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-container \" + containerStyle }, children));\n    };\n    var handleKeyDown = useCallback(function (event) {\n        if (event.key === 'ArrowUp') {\n            setFocusedUser(function (prevFocused) {\n                if (prevFocused === undefined)\n                    return 0;\n                return prevFocused === 0 ? results.length - 1 : prevFocused - 1;\n            });\n        }\n        if (event.key === 'ArrowDown') {\n            setFocusedUser(function (prevFocused) {\n                if (prevFocused === undefined)\n                    return 0;\n                return prevFocused === results.length - 1 ? 0 : prevFocused + 1;\n            });\n        }\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            if (focusedUser !== undefined) {\n                selectResult(results[focusedUser]);\n                return setFocusedUser(undefined);\n            }\n        }\n    }, [focusedUser]);\n    useEffect(function () {\n        document.addEventListener('keydown', handleKeyDown, false);\n        return function () { return document.removeEventListener('keydown', handleKeyDown); };\n    }, [handleKeyDown]);\n    if (searching) {\n        return (React.createElement(ResultsContainer, null, SearchLoading ? (React.createElement(SearchLoading, null)) : (React.createElement(\"div\", { className: 'str-chat__channel-search-container-searching' }, t('Searching...')))));\n    }\n    if (!results.length) {\n        return (React.createElement(ResultsContainer, null, SearchEmpty ? (React.createElement(SearchEmpty, null)) : (React.createElement(\"div\", { \"aria-live\": 'polite', className: 'str-chat__channel-search-container-empty' }, t('No results found')))));\n    }\n    return (React.createElement(ResultsContainer, null,\n        SearchResultsHeader && React.createElement(SearchResultsHeader, null),\n        React.createElement(DropdownContainer, { focusedUser: focusedUser, results: results, SearchResultItem: SearchResultItem, selectResult: selectResult })));\n};\n"]},"metadata":{},"sourceType":"module"}