{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useMemo, useRef } from 'react';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageStatus } from './MessageStatus';\nimport { MessageTimestamp as DefaultTimestamp } from './MessageTimestamp';\nimport { useReactionClick } from './hooks';\nimport { PinIndicator as DefaultPinIndicator, ErrorIcon, ReactionIcon, ThreadIcon } from './icons';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { areMessageUIPropsEqual, MESSAGE_ACTIONS, showMessageActionsBox } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { MessageActions } from '../MessageActions';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { MML } from '../MML';\nimport { ReactionSelector as DefaultReactionSelector, SimpleReactionsList as DefaultReactionsList } from '../Reactions';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\n\nvar MessageTeamWithContext = function (props) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n\n  var clearEditingState = props.clearEditingState,\n      editing = props.editing,\n      getMessageActions = props.getMessageActions,\n      groupStyles = props.groupStyles,\n      handleAction = props.handleAction,\n      handleOpenThread = props.handleOpenThread,\n      handleRetry = props.handleRetry,\n      initialMessage = props.initialMessage,\n      isReactionEnabled = props.isReactionEnabled,\n      message = props.message,\n      messageWrapperRef = props.messageWrapperRef,\n      onMentionsClickMessage = props.onMentionsClickMessage,\n      onMentionsHoverMessage = props.onMentionsHoverMessage,\n      onReactionListClick = props.onReactionListClick,\n      onUserClick = props.onUserClick,\n      onUserHover = props.onUserHover,\n      reactionSelectorRef = props.reactionSelectorRef,\n      _o = props.renderText,\n      renderText = _o === void 0 ? defaultRenderText : _o,\n      showDetailedReactions = props.showDetailedReactions,\n      threadList = props.threadList,\n      unsafeHTML = props.unsafeHTML;\n\n  var _p = useComponentContext('MessageTeam'),\n      Attachment = _p.Attachment,\n      _q = _p.Avatar,\n      Avatar = _q === void 0 ? DefaultAvatar : _q,\n      _r = _p.EditMessageInput,\n      EditMessageInput = _r === void 0 ? DefaultEditMessageForm : _r,\n      _s = _p.MessageDeleted,\n      MessageDeleted = _s === void 0 ? DefaultMessageDeleted : _s,\n      _t = _p.MessageRepliesCountButton,\n      MessageRepliesCountButton = _t === void 0 ? DefaultMessageRepliesCountButton : _t,\n      _u = _p.MessageTimestamp,\n      MessageTimestamp = _u === void 0 ? DefaultTimestamp : _u,\n      _v = _p.PinIndicator,\n      PinIndicator = _v === void 0 ? DefaultPinIndicator : _v,\n      _w = _p.QuotedMessage,\n      QuotedMessage = _w === void 0 ? DefaultQuotedMessage : _w,\n      _x = _p.ReactionsList,\n      ReactionsList = _x === void 0 ? DefaultReactionsList : _x,\n      _y = _p.ReactionSelector,\n      ReactionSelector = _y === void 0 ? DefaultReactionSelector : _y;\n\n  var _z = useTranslationContext('MessageTeam'),\n      t = _z.t,\n      userLanguage = _z.userLanguage;\n\n  var messageActions = getMessageActions();\n  var showActionsBox = showMessageActionsBox(messageActions);\n  var shouldShowReplies = messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 && !threadList;\n  var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n  var messageMentionedUsersItem = message.mentioned_users;\n  var messageText = useMemo(function () {\n    return renderText(messageTextToRender, messageMentionedUsersItem);\n  }, [messageMentionedUsersItem, messageTextToRender]);\n  var firstGroupStyle = groupStyles ? groupStyles[0] : 'single';\n\n  if (message.deleted_at) {\n    return React.createElement(MessageDeleted, {\n      message: message\n    });\n  }\n\n  if (editing) {\n    return React.createElement(\"div\", {\n      className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--editing\",\n      \"data-testid\": 'message-team-edit'\n    }, (firstGroupStyle === 'top' || firstGroupStyle === 'single') && React.createElement(\"div\", {\n      className: 'str-chat__message-team-meta'\n    }, React.createElement(Avatar, {\n      image: (_b = message.user) === null || _b === void 0 ? void 0 : _b.image,\n      name: ((_c = message.user) === null || _c === void 0 ? void 0 : _c.name) || ((_d = message.user) === null || _d === void 0 ? void 0 : _d.id),\n      onClick: onUserClick,\n      onMouseOver: onUserHover,\n      size: 40\n    })), React.createElement(MessageInput, {\n      clearEditingState: clearEditingState,\n      Input: EditMessageInput,\n      message: message\n    }));\n  }\n\n  return React.createElement(React.Fragment, null, message.pinned && React.createElement(\"div\", {\n    className: 'str-chat__message-team-pin-indicator'\n  }, React.createElement(PinIndicator, {\n    message: message,\n    t: t\n  })), React.createElement(\"div\", {\n    className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--\" + message.type + \" \" + (threadList ? 'thread-list' : '') + \" str-chat__message-team--\" + message.status + \" \" + (message.pinned ? 'pinned-message' : ''),\n    \"data-testid\": 'message-team',\n    ref: messageWrapperRef\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-team-meta'\n  }, firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage ? React.createElement(Avatar, {\n    image: (_e = message.user) === null || _e === void 0 ? void 0 : _e.image,\n    name: ((_f = message.user) === null || _f === void 0 ? void 0 : _f.name) || ((_g = message.user) === null || _g === void 0 ? void 0 : _g.id),\n    onClick: onUserClick,\n    onMouseOver: onUserHover,\n    size: 40\n  }) : React.createElement(\"div\", {\n    \"data-testid\": 'team-meta-spacer',\n    style: {\n      marginRight: 0,\n      width: 40\n    }\n  }), React.createElement(MessageTimestamp, null)), React.createElement(\"div\", {\n    className: 'str-chat__message-team-group'\n  }, (firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage) && React.createElement(\"div\", {\n    className: 'str-chat__message-team-author',\n    \"data-testid\": 'message-team-author',\n    onClick: onUserClick\n  }, React.createElement(\"strong\", null, ((_h = message.user) === null || _h === void 0 ? void 0 : _h.name) || ((_j = message.user) === null || _j === void 0 ? void 0 : _j.id)), message.type === 'error' && React.createElement(\"div\", {\n    className: 'str-chat__message-team-error-header'\n  }, t('Only visible to you'))), React.createElement(\"div\", {\n    className: \"str-chat__message-team-content str-chat__message-team-content--\" + firstGroupStyle + \" str-chat__message-team-content--\" + (message.text === '' ? 'image' : 'text'),\n    \"data-testid\": 'message-team-content'\n  }, message.quoted_message && React.createElement(QuotedMessage, null), !initialMessage && message.status !== 'sending' && message.status !== 'failed' && message.type !== 'system' && message.type !== 'ephemeral' && message.type !== 'error' && React.createElement(\"div\", {\n    className: \"str-chat__message-team-actions\",\n    \"data-testid\": 'message-team-actions'\n  }, showDetailedReactions && React.createElement(ReactionSelector, {\n    ref: reactionSelectorRef\n  }), isReactionEnabled && React.createElement(\"span\", {\n    \"data-testid\": 'message-team-reaction-icon',\n    onClick: onReactionListClick,\n    title: 'Reactions'\n  }, React.createElement(ReactionIcon, null)), shouldShowReplies && React.createElement(\"span\", {\n    \"data-testid\": 'message-team-thread-icon',\n    onClick: handleOpenThread,\n    title: 'Start a thread'\n  }, React.createElement(ThreadIcon, null)), showActionsBox && React.createElement(MessageActions, {\n    inline: true,\n    messageWrapperRef: messageWrapperRef\n  })), React.createElement(\"span\", {\n    className: isOnlyEmojis(message.text) ? 'str-chat__message-team-text--is-emoji' : '',\n    \"data-testid\": 'message-team-message',\n    onClick: onMentionsClickMessage,\n    onMouseOver: onMentionsHoverMessage\n  }, unsafeHTML && message.html ? React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: message.html\n    }\n  }) : messageText), message.mml && React.createElement(MML, {\n    actionHandler: handleAction,\n    align: 'left',\n    source: message.mml\n  }), !message.text && ((_k = message.attachments) === null || _k === void 0 ? void 0 : _k.length) ? React.createElement(Attachment, {\n    actionHandler: handleAction,\n    attachments: message.attachments\n  }) : null, ((_l = message.latest_reactions) === null || _l === void 0 ? void 0 : _l.length) !== 0 && message.text !== '' && isReactionEnabled && React.createElement(ReactionsList, null), message.status === 'failed' && React.createElement(\"button\", {\n    className: 'str-chat__message-team-failed',\n    \"data-testid\": 'message-team-failed',\n    onClick: message.errorStatusCode !== 403 ? function () {\n      return handleRetry(message);\n    } : undefined\n  }, React.createElement(ErrorIcon, null), message.errorStatusCode !== 403 ? t('Message Failed 路 Click to try again') : t('Message Failed 路 Unauthorized'))), React.createElement(MessageStatus, {\n    messageType: 'team'\n  }), message.text && ((_m = message.attachments) === null || _m === void 0 ? void 0 : _m.length) ? React.createElement(Attachment, {\n    actionHandler: handleAction,\n    attachments: message.attachments\n  }) : null, message.latest_reactions && message.latest_reactions.length !== 0 && message.text === '' && isReactionEnabled && React.createElement(ReactionsList, null), !threadList && React.createElement(MessageRepliesCountButton, {\n    onClick: handleOpenThread,\n    reply_count: message.reply_count\n  }))));\n};\n\nvar MemoizedMessageTeam = React.memo(MessageTeamWithContext, areMessageUIPropsEqual);\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * Handles the rendering of a Message and depends on the Message component for all the logic.\n * Implements the look and feel for a team style collaboration environment.\n */\n\nexport var MessageTeam = function (props) {\n  var messageContext = useMessageContext('MessageTeam');\n  var reactionSelectorRef = useRef(null);\n  var messageWrapperRef = useRef(null);\n  var message = props.message || messageContext.message;\n\n  var _a = useReactionClick(message, reactionSelectorRef, messageWrapperRef),\n      isReactionEnabled = _a.isReactionEnabled,\n      onReactionListClick = _a.onReactionListClick,\n      showDetailedReactions = _a.showDetailedReactions;\n\n  return React.createElement(MemoizedMessageTeam, __assign({}, messageContext, {\n    isReactionEnabled: isReactionEnabled,\n    messageWrapperRef: messageWrapperRef,\n    onReactionListClick: onReactionListClick,\n    reactionSelectorRef: reactionSelectorRef,\n    showDetailedReactions: showDetailedReactions\n  }, props));\n};","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/stream-chat-react/dist/components/Message/MessageTeam.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useMemo","useRef","MessageDeleted","DefaultMessageDeleted","MessageRepliesCountButton","DefaultMessageRepliesCountButton","MessageStatus","MessageTimestamp","DefaultTimestamp","useReactionClick","PinIndicator","DefaultPinIndicator","ErrorIcon","ReactionIcon","ThreadIcon","QuotedMessage","DefaultQuotedMessage","areMessageUIPropsEqual","MESSAGE_ACTIONS","showMessageActionsBox","Avatar","DefaultAvatar","MessageActions","EditMessageForm","DefaultEditMessageForm","MessageInput","MML","ReactionSelector","DefaultReactionSelector","SimpleReactionsList","DefaultReactionsList","useComponentContext","useMessageContext","useTranslationContext","renderText","defaultRenderText","isOnlyEmojis","MessageTeamWithContext","props","_a","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","clearEditingState","editing","getMessageActions","groupStyles","handleAction","handleOpenThread","handleRetry","initialMessage","isReactionEnabled","message","messageWrapperRef","onMentionsClickMessage","onMentionsHoverMessage","onReactionListClick","onUserClick","onUserHover","reactionSelectorRef","_o","showDetailedReactions","threadList","unsafeHTML","_p","Attachment","_q","_r","EditMessageInput","_s","_t","_u","_v","_w","_x","ReactionsList","_y","_z","userLanguage","messageActions","showActionsBox","shouldShowReplies","indexOf","reply","messageTextToRender","i18n","text","messageMentionedUsersItem","mentioned_users","messageText","firstGroupStyle","deleted_at","createElement","className","image","user","name","id","onClick","onMouseOver","size","Input","Fragment","pinned","type","status","ref","style","marginRight","width","quoted_message","title","inline","html","dangerouslySetInnerHTML","__html","mml","actionHandler","align","source","attachments","latest_reactions","errorStatusCode","undefined","messageType","reply_count","MemoizedMessageTeam","memo","MessageTeam","messageContext"],"mappings":"AAAA,IAAIA,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACP;;AACD,WAAON,CAAP;AACH,GAPD;;AAQA,SAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACH,CAVD;;AAWA,OAAOO,KAAP,IAAgBC,OAAhB,EAAyBC,MAAzB,QAAuC,OAAvC;AACA,SAASC,cAAc,IAAIC,qBAA3B,QAAwD,kBAAxD;AACA,SAASC,yBAAyB,IAAIC,gCAAtC,QAA8E,6BAA9E;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,gBAAgB,IAAIC,gBAA7B,QAAqD,oBAArD;AACA,SAASC,gBAAT,QAAiC,SAAjC;AACA,SAASC,YAAY,IAAIC,mBAAzB,EAA8CC,SAA9C,EAAyDC,YAAzD,EAAuEC,UAAvE,QAAyF,SAAzF;AACA,SAASC,aAAa,IAAIC,oBAA1B,QAAsD,iBAAtD;AACA,SAASC,sBAAT,EAAiCC,eAAjC,EAAkDC,qBAAlD,QAA+E,SAA/E;AACA,SAASC,MAAM,IAAIC,aAAnB,QAAwC,WAAxC;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,eAAe,IAAIC,sBAA5B,EAAoDC,YAApD,QAAwE,iBAAxE;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,SAASC,gBAAgB,IAAIC,uBAA7B,EAAsDC,mBAAmB,IAAIC,oBAA7E,QAA0G,cAA1G;AACA,SAASC,mBAAT,QAAoC,gCAApC;AACA,SAASC,iBAAT,QAAkC,8BAAlC;AACA,SAASC,qBAAT,QAAsC,kCAAtC;AACA,SAASC,UAAU,IAAIC,iBAAvB,EAA0CC,YAA1C,QAA8D,aAA9D;;AACA,IAAIC,sBAAsB,GAAG,UAAUC,KAAV,EAAiB;AAC1C,MAAIC,EAAJ,EAAQC,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,EAApB,EAAwBC,EAAxB,EAA4BC,EAA5B,EAAgCC,EAAhC,EAAoCC,EAApC,EAAwCC,EAAxC,EAA4CC,EAA5C,EAAgDC,EAAhD;;AACA,MAAIC,iBAAiB,GAAGb,KAAK,CAACa,iBAA9B;AAAA,MAAiDC,OAAO,GAAGd,KAAK,CAACc,OAAjE;AAAA,MAA0EC,iBAAiB,GAAGf,KAAK,CAACe,iBAApG;AAAA,MAAuHC,WAAW,GAAGhB,KAAK,CAACgB,WAA3I;AAAA,MAAwJC,YAAY,GAAGjB,KAAK,CAACiB,YAA7K;AAAA,MAA2LC,gBAAgB,GAAGlB,KAAK,CAACkB,gBAApN;AAAA,MAAsOC,WAAW,GAAGnB,KAAK,CAACmB,WAA1P;AAAA,MAAuQC,cAAc,GAAGpB,KAAK,CAACoB,cAA9R;AAAA,MAA8SC,iBAAiB,GAAGrB,KAAK,CAACqB,iBAAxU;AAAA,MAA2VC,OAAO,GAAGtB,KAAK,CAACsB,OAA3W;AAAA,MAAoXC,iBAAiB,GAAGvB,KAAK,CAACuB,iBAA9Y;AAAA,MAAiaC,sBAAsB,GAAGxB,KAAK,CAACwB,sBAAhc;AAAA,MAAwdC,sBAAsB,GAAGzB,KAAK,CAACyB,sBAAvf;AAAA,MAA+gBC,mBAAmB,GAAG1B,KAAK,CAAC0B,mBAA3iB;AAAA,MAAgkBC,WAAW,GAAG3B,KAAK,CAAC2B,WAAplB;AAAA,MAAimBC,WAAW,GAAG5B,KAAK,CAAC4B,WAArnB;AAAA,MAAkoBC,mBAAmB,GAAG7B,KAAK,CAAC6B,mBAA9pB;AAAA,MAAmrBC,EAAE,GAAG9B,KAAK,CAACJ,UAA9rB;AAAA,MAA0sBA,UAAU,GAAGkC,EAAE,KAAK,KAAK,CAAZ,GAAgBjC,iBAAhB,GAAoCiC,EAA3vB;AAAA,MAA+vBC,qBAAqB,GAAG/B,KAAK,CAAC+B,qBAA7xB;AAAA,MAAozBC,UAAU,GAAGhC,KAAK,CAACgC,UAAv0B;AAAA,MAAm1BC,UAAU,GAAGjC,KAAK,CAACiC,UAAt2B;;AACA,MAAIC,EAAE,GAAGzC,mBAAmB,CAAC,aAAD,CAA5B;AAAA,MAA6C0C,UAAU,GAAGD,EAAE,CAACC,UAA7D;AAAA,MAAyEC,EAAE,GAAGF,EAAE,CAACpD,MAAjF;AAAA,MAAyFA,MAAM,GAAGsD,EAAE,KAAK,KAAK,CAAZ,GAAgBrD,aAAhB,GAAgCqD,EAAlI;AAAA,MAAsIC,EAAE,GAAGH,EAAE,CAACI,gBAA9I;AAAA,MAAgKA,gBAAgB,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgBnD,sBAAhB,GAAyCmD,EAA5N;AAAA,MAAgOE,EAAE,GAAGL,EAAE,CAACtE,cAAxO;AAAA,MAAwPA,cAAc,GAAG2E,EAAE,KAAK,KAAK,CAAZ,GAAgB1E,qBAAhB,GAAwC0E,EAAjT;AAAA,MAAqTC,EAAE,GAAGN,EAAE,CAACpE,yBAA7T;AAAA,MAAwVA,yBAAyB,GAAG0E,EAAE,KAAK,KAAK,CAAZ,GAAgBzE,gCAAhB,GAAmDyE,EAAva;AAAA,MAA2aC,EAAE,GAAGP,EAAE,CAACjE,gBAAnb;AAAA,MAAqcA,gBAAgB,GAAGwE,EAAE,KAAK,KAAK,CAAZ,GAAgBvE,gBAAhB,GAAmCuE,EAA3f;AAAA,MAA+fC,EAAE,GAAGR,EAAE,CAAC9D,YAAvgB;AAAA,MAAqhBA,YAAY,GAAGsE,EAAE,KAAK,KAAK,CAAZ,GAAgBrE,mBAAhB,GAAsCqE,EAA1kB;AAAA,MAA8kBC,EAAE,GAAGT,EAAE,CAACzD,aAAtlB;AAAA,MAAqmBA,aAAa,GAAGkE,EAAE,KAAK,KAAK,CAAZ,GAAgBjE,oBAAhB,GAAuCiE,EAA5pB;AAAA,MAAgqBC,EAAE,GAAGV,EAAE,CAACW,aAAxqB;AAAA,MAAurBA,aAAa,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgBpD,oBAAhB,GAAuCoD,EAA9uB;AAAA,MAAkvBE,EAAE,GAAGZ,EAAE,CAAC7C,gBAA1vB;AAAA,MAA4wBA,gBAAgB,GAAGyD,EAAE,KAAK,KAAK,CAAZ,GAAgBxD,uBAAhB,GAA0CwD,EAAz0B;;AACA,MAAIC,EAAE,GAAGpD,qBAAqB,CAAC,aAAD,CAA9B;AAAA,MAA+C7C,CAAC,GAAGiG,EAAE,CAACjG,CAAtD;AAAA,MAAyDkG,YAAY,GAAGD,EAAE,CAACC,YAA3E;;AACA,MAAIC,cAAc,GAAGlC,iBAAiB,EAAtC;AACA,MAAImC,cAAc,GAAGrE,qBAAqB,CAACoE,cAAD,CAA1C;AACA,MAAIE,iBAAiB,GAAGF,cAAc,CAACG,OAAf,CAAuBxE,eAAe,CAACyE,KAAvC,IAAgD,CAAC,CAAjD,IAAsD,CAACrB,UAA/E;AACA,MAAIsB,mBAAmB,GAAG,CAAC,CAACrD,EAAE,GAAGqB,OAAO,CAACiC,IAAd,MAAwB,IAAxB,IAAgCtD,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC+C,YAAY,GAAG,OAAhB,CAA5D,KAAyF1B,OAAO,CAACkC,IAA3H;AACA,MAAIC,yBAAyB,GAAGnC,OAAO,CAACoC,eAAxC;AACA,MAAIC,WAAW,GAAGjG,OAAO,CAAC,YAAY;AAAE,WAAOkC,UAAU,CAAC0D,mBAAD,EAAsBG,yBAAtB,CAAjB;AAAoE,GAAnF,EAAqF,CAC1GA,yBAD0G,EAE1GH,mBAF0G,CAArF,CAAzB;AAIA,MAAIM,eAAe,GAAG5C,WAAW,GAAGA,WAAW,CAAC,CAAD,CAAd,GAAoB,QAArD;;AACA,MAAIM,OAAO,CAACuC,UAAZ,EAAwB;AACpB,WAAOpG,KAAK,CAACqG,aAAN,CAAoBlG,cAApB,EAAoC;AAAE0D,MAAAA,OAAO,EAAEA;AAAX,KAApC,CAAP;AACH;;AACD,MAAIR,OAAJ,EAAa;AACT,WAAQrD,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,SAAS,EAAE,oDAAoDH,eAApD,GAAsE,kCAAnF;AAAuH,qBAAe;AAAtI,KAA3B,EACJ,CAACA,eAAe,KAAK,KAApB,IAA6BA,eAAe,KAAK,QAAlD,KAAgEnG,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAA3B,EAC5DtG,KAAK,CAACqG,aAAN,CAAoBhF,MAApB,EAA4B;AAAEkF,MAAAA,KAAK,EAAE,CAAC9D,EAAE,GAAGoB,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgC/D,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC8D,KAArE;AAA4EE,MAAAA,IAAI,EAAE,CAAC,CAAC/D,EAAE,GAAGmB,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgC9D,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC+D,IAA7D,MAAuE,CAAC9D,EAAE,GAAGkB,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgC7D,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC+D,EAAnI,CAAlF;AAA0NC,MAAAA,OAAO,EAAEzC,WAAnO;AAAgP0C,MAAAA,WAAW,EAAEzC,WAA7P;AAA0Q0C,MAAAA,IAAI,EAAE;AAAhR,KAA5B,CAD4D,CAD5D,EAGJ7G,KAAK,CAACqG,aAAN,CAAoB3E,YAApB,EAAkC;AAAE0B,MAAAA,iBAAiB,EAAEA,iBAArB;AAAwC0D,MAAAA,KAAK,EAAEjC,gBAA/C;AAAiEhB,MAAAA,OAAO,EAAEA;AAA1E,KAAlC,CAHI,CAAR;AAIH;;AACD,SAAQ7D,KAAK,CAACqG,aAAN,CAAoBrG,KAAK,CAAC+G,QAA1B,EAAoC,IAApC,EACJlD,OAAO,CAACmD,MAAR,IAAmBhH,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACftG,KAAK,CAACqG,aAAN,CAAoB1F,YAApB,EAAkC;AAAEkD,IAAAA,OAAO,EAAEA,OAAX;AAAoBxE,IAAAA,CAAC,EAAEA;AAAvB,GAAlC,CADe,CADf,EAGJW,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE,oDAAoDH,eAApD,GAAsE,2BAAtE,GAAoGtC,OAAO,CAACoD,IAA5G,GAAmH,GAAnH,IAA0H1C,UAAU,GAAG,aAAH,GAAmB,EAAvJ,IAA6J,2BAA7J,GAA2LV,OAAO,CAACqD,MAAnM,GAA4M,GAA5M,IAAmNrD,OAAO,CAACmD,MAAR,GAAiB,gBAAjB,GAAoC,EAAvP,CAAb;AAAyQ,mBAAe,cAAxR;AAAwSG,IAAAA,GAAG,EAAErD;AAA7S,GAA3B,EACI9D,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACIH,eAAe,KAAK,KAApB,IAA6BA,eAAe,KAAK,QAAjD,IAA6DxC,cAA7D,GAA+E3D,KAAK,CAACqG,aAAN,CAAoBhF,MAApB,EAA4B;AAAEkF,IAAAA,KAAK,EAAE,CAAC3D,EAAE,GAAGiB,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgC5D,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC2D,KAArE;AAA4EE,IAAAA,IAAI,EAAE,CAAC,CAAC5D,EAAE,GAAGgB,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgC3D,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC4D,IAA7D,MAAuE,CAAC3D,EAAE,GAAGe,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgC1D,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC4D,EAAnI,CAAlF;AAA0NC,IAAAA,OAAO,EAAEzC,WAAnO;AAAgP0C,IAAAA,WAAW,EAAEzC,WAA7P;AAA0Q0C,IAAAA,IAAI,EAAE;AAAhR,GAA5B,CAA/E,GAAqY7G,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAE,mBAAe,kBAAjB;AAAqCe,IAAAA,KAAK,EAAE;AAAEC,MAAAA,WAAW,EAAE,CAAf;AAAkBC,MAAAA,KAAK,EAAE;AAAzB;AAA5C,GAA3B,CADzY,EAEItH,KAAK,CAACqG,aAAN,CAAoB7F,gBAApB,EAAsC,IAAtC,CAFJ,CADJ,EAIIR,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EACI,CAACH,eAAe,KAAK,KAApB,IAA6BA,eAAe,KAAK,QAAjD,IAA6DxC,cAA9D,KAAkF3D,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE,+BAAb;AAA8C,mBAAe,qBAA7D;AAAoFK,IAAAA,OAAO,EAAEzC;AAA7F,GAA3B,EAC9ElE,KAAK,CAACqG,aAAN,CAAoB,QAApB,EAA8B,IAA9B,EAAoC,CAAC,CAACtD,EAAE,GAAGc,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgCzD,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC0D,IAA7D,MAAuE,CAACzD,EAAE,GAAGa,OAAO,CAAC2C,IAAd,MAAwB,IAAxB,IAAgCxD,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAAC0D,EAAnI,CAApC,CAD8E,EAE9E7C,OAAO,CAACoD,IAAR,KAAiB,OAAjB,IAA6BjH,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA3B,EAAiFjH,CAAC,CAAC,qBAAD,CAAlF,CAFiD,CADtF,EAIIW,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE,oEAAoEH,eAApE,GAAsF,mCAAtF,IAA6HtC,OAAO,CAACkC,IAAR,KAAiB,EAAjB,GAAsB,OAAtB,GAAgC,MAA7J,CAAb;AAAmL,mBAAe;AAAlM,GAA3B,EACIlC,OAAO,CAAC0D,cAAR,IAA0BvH,KAAK,CAACqG,aAAN,CAAoBrF,aAApB,EAAmC,IAAnC,CAD9B,EAEI,CAAC2C,cAAD,IACIE,OAAO,CAACqD,MAAR,KAAmB,SADvB,IAEIrD,OAAO,CAACqD,MAAR,KAAmB,QAFvB,IAGIrD,OAAO,CAACoD,IAAR,KAAiB,QAHrB,IAIIpD,OAAO,CAACoD,IAAR,KAAiB,WAJrB,IAKIpD,OAAO,CAACoD,IAAR,KAAiB,OALrB,IAKiCjH,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEC,IAAAA,SAAS,EAAE,gCAAb;AAA+C,mBAAe;AAA9D,GAA3B,EAC7BhC,qBAAqB,IAAItE,KAAK,CAACqG,aAAN,CAAoBzE,gBAApB,EAAsC;AAAEuF,IAAAA,GAAG,EAAE/C;AAAP,GAAtC,CADI,EAE7BR,iBAAiB,IAAK5D,KAAK,CAACqG,aAAN,CAAoB,MAApB,EAA4B;AAAE,mBAAe,4BAAjB;AAA+CM,IAAAA,OAAO,EAAE1C,mBAAxD;AAA6EuD,IAAAA,KAAK,EAAE;AAApF,GAA5B,EAClBxH,KAAK,CAACqG,aAAN,CAAoBvF,YAApB,EAAkC,IAAlC,CADkB,CAFO,EAI7B4E,iBAAiB,IAAK1F,KAAK,CAACqG,aAAN,CAAoB,MAApB,EAA4B;AAAE,mBAAe,0BAAjB;AAA6CM,IAAAA,OAAO,EAAElD,gBAAtD;AAAwE+D,IAAAA,KAAK,EAAE;AAA/E,GAA5B,EAClBxH,KAAK,CAACqG,aAAN,CAAoBtF,UAApB,EAAgC,IAAhC,CADkB,CAJO,EAM7B0E,cAAc,IAAKzF,KAAK,CAACqG,aAAN,CAAoB9E,cAApB,EAAoC;AAAEkG,IAAAA,MAAM,EAAE,IAAV;AAAgB3D,IAAAA,iBAAiB,EAAEA;AAAnC,GAApC,CANU,CAPrC,EAcI9D,KAAK,CAACqG,aAAN,CAAoB,MAApB,EAA4B;AAAEC,IAAAA,SAAS,EAAEjE,YAAY,CAACwB,OAAO,CAACkC,IAAT,CAAZ,GAA6B,uCAA7B,GAAuE,EAApF;AAAwF,mBAAe,sBAAvG;AAA+HY,IAAAA,OAAO,EAAE5C,sBAAxI;AAAgK6C,IAAAA,WAAW,EAAE5C;AAA7K,GAA5B,EAAmOQ,UAAU,IAAIX,OAAO,CAAC6D,IAAtB,GAA8B1H,KAAK,CAACqG,aAAN,CAAoB,KAApB,EAA2B;AAAEsB,IAAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAE/D,OAAO,CAAC6D;AAAlB;AAA3B,GAA3B,CAA9B,GAAoHxB,WAAvV,CAdJ,EAeIrC,OAAO,CAACgE,GAAR,IAAe7H,KAAK,CAACqG,aAAN,CAAoB1E,GAApB,EAAyB;AAAEmG,IAAAA,aAAa,EAAEtE,YAAjB;AAA+BuE,IAAAA,KAAK,EAAE,MAAtC;AAA8CC,IAAAA,MAAM,EAAEnE,OAAO,CAACgE;AAA9D,GAAzB,CAfnB,EAgBI,CAAChE,OAAO,CAACkC,IAAT,KAAkB,CAAC9C,EAAE,GAAGY,OAAO,CAACoE,WAAd,MAA+B,IAA/B,IAAuChF,EAAE,KAAK,KAAK,CAAnD,GAAuD,KAAK,CAA5D,GAAgEA,EAAE,CAACvD,MAArF,IAAgGM,KAAK,CAACqG,aAAN,CAAoB3B,UAApB,EAAgC;AAAEoD,IAAAA,aAAa,EAAEtE,YAAjB;AAA+ByE,IAAAA,WAAW,EAAEpE,OAAO,CAACoE;AAApD,GAAhC,CAAhG,GAAsM,IAhB1M,EAiBI,CAAC,CAAC/E,EAAE,GAAGW,OAAO,CAACqE,gBAAd,MAAoC,IAApC,IAA4ChF,EAAE,KAAK,KAAK,CAAxD,GAA4D,KAAK,CAAjE,GAAqEA,EAAE,CAACxD,MAAzE,MAAqF,CAArF,IAA0FmE,OAAO,CAACkC,IAAR,KAAiB,EAA3G,IAAiHnC,iBAAjH,IAAuI5D,KAAK,CAACqG,aAAN,CAAoBjB,aAApB,EAAmC,IAAnC,CAjB3I,EAkBIvB,OAAO,CAACqD,MAAR,KAAmB,QAAnB,IAAgClH,KAAK,CAACqG,aAAN,CAAoB,QAApB,EAA8B;AAAEC,IAAAA,SAAS,EAAE,+BAAb;AAA8C,mBAAe,qBAA7D;AAAoFK,IAAAA,OAAO,EAAE9C,OAAO,CAACsE,eAAR,KAA4B,GAA5B,GAAkC,YAAY;AAAE,aAAOzE,WAAW,CAACG,OAAD,CAAlB;AAA8B,KAA9E,GAAiFuE;AAA9K,GAA9B,EAC5BpI,KAAK,CAACqG,aAAN,CAAoBxF,SAApB,EAA+B,IAA/B,CAD4B,EAE5BgD,OAAO,CAACsE,eAAR,KAA4B,GAA5B,GACM9I,CAAC,CAAC,qCAAD,CADP,GAEMA,CAAC,CAAC,+BAAD,CAJqB,CAlBpC,CAJJ,EA2BIW,KAAK,CAACqG,aAAN,CAAoB9F,aAApB,EAAmC;AAAE8H,IAAAA,WAAW,EAAE;AAAf,GAAnC,CA3BJ,EA4BIxE,OAAO,CAACkC,IAAR,KAAiB,CAAC5C,EAAE,GAAGU,OAAO,CAACoE,WAAd,MAA+B,IAA/B,IAAuC9E,EAAE,KAAK,KAAK,CAAnD,GAAuD,KAAK,CAA5D,GAAgEA,EAAE,CAACzD,MAApF,IAA+FM,KAAK,CAACqG,aAAN,CAAoB3B,UAApB,EAAgC;AAAEoD,IAAAA,aAAa,EAAEtE,YAAjB;AAA+ByE,IAAAA,WAAW,EAAEpE,OAAO,CAACoE;AAApD,GAAhC,CAA/F,GAAqM,IA5BzM,EA6BIpE,OAAO,CAACqE,gBAAR,IACIrE,OAAO,CAACqE,gBAAR,CAAyBxI,MAAzB,KAAoC,CADxC,IAEImE,OAAO,CAACkC,IAAR,KAAiB,EAFrB,IAGInC,iBAHJ,IAGyB5D,KAAK,CAACqG,aAAN,CAAoBjB,aAApB,EAAmC,IAAnC,CAhC7B,EAiCI,CAACb,UAAD,IAAgBvE,KAAK,CAACqG,aAAN,CAAoBhG,yBAApB,EAA+C;AAAEsG,IAAAA,OAAO,EAAElD,gBAAX;AAA6B6E,IAAAA,WAAW,EAAEzE,OAAO,CAACyE;AAAlD,GAA/C,CAjCpB,CAJJ,CAHI,CAAR;AAyCH,CAjED;;AAkEA,IAAIC,mBAAmB,GAAGvI,KAAK,CAACwI,IAAN,CAAWlG,sBAAX,EAAmCpB,sBAAnC,CAA1B;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIuH,WAAW,GAAG,UAAUlG,KAAV,EAAiB;AACtC,MAAImG,cAAc,GAAGzG,iBAAiB,CAAC,aAAD,CAAtC;AACA,MAAImC,mBAAmB,GAAGlE,MAAM,CAAC,IAAD,CAAhC;AACA,MAAI4D,iBAAiB,GAAG5D,MAAM,CAAC,IAAD,CAA9B;AACA,MAAI2D,OAAO,GAAGtB,KAAK,CAACsB,OAAN,IAAiB6E,cAAc,CAAC7E,OAA9C;;AACA,MAAIrB,EAAE,GAAG9B,gBAAgB,CAACmD,OAAD,EAAUO,mBAAV,EAA+BN,iBAA/B,CAAzB;AAAA,MAA4EF,iBAAiB,GAAGpB,EAAE,CAACoB,iBAAnG;AAAA,MAAsHK,mBAAmB,GAAGzB,EAAE,CAACyB,mBAA/I;AAAA,MAAoKK,qBAAqB,GAAG9B,EAAE,CAAC8B,qBAA/L;;AACA,SAAQtE,KAAK,CAACqG,aAAN,CAAoBkC,mBAApB,EAAyCrJ,QAAQ,CAAC,EAAD,EAAKwJ,cAAL,EAAqB;AAAE9E,IAAAA,iBAAiB,EAAEA,iBAArB;AAAwCE,IAAAA,iBAAiB,EAAEA,iBAA3D;AAA8EG,IAAAA,mBAAmB,EAAEA,mBAAnG;AAAwHG,IAAAA,mBAAmB,EAAEA,mBAA7I;AAAkKE,IAAAA,qBAAqB,EAAEA;AAAzL,GAArB,EAAuO/B,KAAvO,CAAjD,CAAR;AACH,CAPM","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useMemo, useRef } from 'react';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageStatus } from './MessageStatus';\nimport { MessageTimestamp as DefaultTimestamp } from './MessageTimestamp';\nimport { useReactionClick } from './hooks';\nimport { PinIndicator as DefaultPinIndicator, ErrorIcon, ReactionIcon, ThreadIcon } from './icons';\nimport { QuotedMessage as DefaultQuotedMessage } from './QuotedMessage';\nimport { areMessageUIPropsEqual, MESSAGE_ACTIONS, showMessageActionsBox } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { MessageActions } from '../MessageActions';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { MML } from '../MML';\nimport { ReactionSelector as DefaultReactionSelector, SimpleReactionsList as DefaultReactionsList, } from '../Reactions';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nimport { renderText as defaultRenderText, isOnlyEmojis } from '../../utils';\nvar MessageTeamWithContext = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    var clearEditingState = props.clearEditingState, editing = props.editing, getMessageActions = props.getMessageActions, groupStyles = props.groupStyles, handleAction = props.handleAction, handleOpenThread = props.handleOpenThread, handleRetry = props.handleRetry, initialMessage = props.initialMessage, isReactionEnabled = props.isReactionEnabled, message = props.message, messageWrapperRef = props.messageWrapperRef, onMentionsClickMessage = props.onMentionsClickMessage, onMentionsHoverMessage = props.onMentionsHoverMessage, onReactionListClick = props.onReactionListClick, onUserClick = props.onUserClick, onUserHover = props.onUserHover, reactionSelectorRef = props.reactionSelectorRef, _o = props.renderText, renderText = _o === void 0 ? defaultRenderText : _o, showDetailedReactions = props.showDetailedReactions, threadList = props.threadList, unsafeHTML = props.unsafeHTML;\n    var _p = useComponentContext('MessageTeam'), Attachment = _p.Attachment, _q = _p.Avatar, Avatar = _q === void 0 ? DefaultAvatar : _q, _r = _p.EditMessageInput, EditMessageInput = _r === void 0 ? DefaultEditMessageForm : _r, _s = _p.MessageDeleted, MessageDeleted = _s === void 0 ? DefaultMessageDeleted : _s, _t = _p.MessageRepliesCountButton, MessageRepliesCountButton = _t === void 0 ? DefaultMessageRepliesCountButton : _t, _u = _p.MessageTimestamp, MessageTimestamp = _u === void 0 ? DefaultTimestamp : _u, _v = _p.PinIndicator, PinIndicator = _v === void 0 ? DefaultPinIndicator : _v, _w = _p.QuotedMessage, QuotedMessage = _w === void 0 ? DefaultQuotedMessage : _w, _x = _p.ReactionsList, ReactionsList = _x === void 0 ? DefaultReactionsList : _x, _y = _p.ReactionSelector, ReactionSelector = _y === void 0 ? DefaultReactionSelector : _y;\n    var _z = useTranslationContext('MessageTeam'), t = _z.t, userLanguage = _z.userLanguage;\n    var messageActions = getMessageActions();\n    var showActionsBox = showMessageActionsBox(messageActions);\n    var shouldShowReplies = messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 && !threadList;\n    var messageTextToRender = ((_a = message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + \"_text\"]) || message.text;\n    var messageMentionedUsersItem = message.mentioned_users;\n    var messageText = useMemo(function () { return renderText(messageTextToRender, messageMentionedUsersItem); }, [\n        messageMentionedUsersItem,\n        messageTextToRender,\n    ]);\n    var firstGroupStyle = groupStyles ? groupStyles[0] : 'single';\n    if (message.deleted_at) {\n        return React.createElement(MessageDeleted, { message: message });\n    }\n    if (editing) {\n        return (React.createElement(\"div\", { className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--editing\", \"data-testid\": 'message-team-edit' },\n            (firstGroupStyle === 'top' || firstGroupStyle === 'single') && (React.createElement(\"div\", { className: 'str-chat__message-team-meta' },\n                React.createElement(Avatar, { image: (_b = message.user) === null || _b === void 0 ? void 0 : _b.image, name: ((_c = message.user) === null || _c === void 0 ? void 0 : _c.name) || ((_d = message.user) === null || _d === void 0 ? void 0 : _d.id), onClick: onUserClick, onMouseOver: onUserHover, size: 40 }))),\n            React.createElement(MessageInput, { clearEditingState: clearEditingState, Input: EditMessageInput, message: message })));\n    }\n    return (React.createElement(React.Fragment, null,\n        message.pinned && (React.createElement(\"div\", { className: 'str-chat__message-team-pin-indicator' },\n            React.createElement(PinIndicator, { message: message, t: t }))),\n        React.createElement(\"div\", { className: \"str-chat__message-team str-chat__message-team--\" + firstGroupStyle + \" str-chat__message-team--\" + message.type + \" \" + (threadList ? 'thread-list' : '') + \" str-chat__message-team--\" + message.status + \" \" + (message.pinned ? 'pinned-message' : ''), \"data-testid\": 'message-team', ref: messageWrapperRef },\n            React.createElement(\"div\", { className: 'str-chat__message-team-meta' },\n                firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage ? (React.createElement(Avatar, { image: (_e = message.user) === null || _e === void 0 ? void 0 : _e.image, name: ((_f = message.user) === null || _f === void 0 ? void 0 : _f.name) || ((_g = message.user) === null || _g === void 0 ? void 0 : _g.id), onClick: onUserClick, onMouseOver: onUserHover, size: 40 })) : (React.createElement(\"div\", { \"data-testid\": 'team-meta-spacer', style: { marginRight: 0, width: 40 } })),\n                React.createElement(MessageTimestamp, null)),\n            React.createElement(\"div\", { className: 'str-chat__message-team-group' },\n                (firstGroupStyle === 'top' || firstGroupStyle === 'single' || initialMessage) && (React.createElement(\"div\", { className: 'str-chat__message-team-author', \"data-testid\": 'message-team-author', onClick: onUserClick },\n                    React.createElement(\"strong\", null, ((_h = message.user) === null || _h === void 0 ? void 0 : _h.name) || ((_j = message.user) === null || _j === void 0 ? void 0 : _j.id)),\n                    message.type === 'error' && (React.createElement(\"div\", { className: 'str-chat__message-team-error-header' }, t('Only visible to you'))))),\n                React.createElement(\"div\", { className: \"str-chat__message-team-content str-chat__message-team-content--\" + firstGroupStyle + \" str-chat__message-team-content--\" + (message.text === '' ? 'image' : 'text'), \"data-testid\": 'message-team-content' },\n                    message.quoted_message && React.createElement(QuotedMessage, null),\n                    !initialMessage &&\n                        message.status !== 'sending' &&\n                        message.status !== 'failed' &&\n                        message.type !== 'system' &&\n                        message.type !== 'ephemeral' &&\n                        message.type !== 'error' && (React.createElement(\"div\", { className: \"str-chat__message-team-actions\", \"data-testid\": 'message-team-actions' },\n                        showDetailedReactions && React.createElement(ReactionSelector, { ref: reactionSelectorRef }),\n                        isReactionEnabled && (React.createElement(\"span\", { \"data-testid\": 'message-team-reaction-icon', onClick: onReactionListClick, title: 'Reactions' },\n                            React.createElement(ReactionIcon, null))),\n                        shouldShowReplies && (React.createElement(\"span\", { \"data-testid\": 'message-team-thread-icon', onClick: handleOpenThread, title: 'Start a thread' },\n                            React.createElement(ThreadIcon, null))),\n                        showActionsBox && (React.createElement(MessageActions, { inline: true, messageWrapperRef: messageWrapperRef })))),\n                    React.createElement(\"span\", { className: isOnlyEmojis(message.text) ? 'str-chat__message-team-text--is-emoji' : '', \"data-testid\": 'message-team-message', onClick: onMentionsClickMessage, onMouseOver: onMentionsHoverMessage }, unsafeHTML && message.html ? (React.createElement(\"div\", { dangerouslySetInnerHTML: { __html: message.html } })) : (messageText)),\n                    message.mml && React.createElement(MML, { actionHandler: handleAction, align: 'left', source: message.mml }),\n                    !message.text && ((_k = message.attachments) === null || _k === void 0 ? void 0 : _k.length) ? (React.createElement(Attachment, { actionHandler: handleAction, attachments: message.attachments })) : null,\n                    ((_l = message.latest_reactions) === null || _l === void 0 ? void 0 : _l.length) !== 0 && message.text !== '' && isReactionEnabled && (React.createElement(ReactionsList, null)),\n                    message.status === 'failed' && (React.createElement(\"button\", { className: 'str-chat__message-team-failed', \"data-testid\": 'message-team-failed', onClick: message.errorStatusCode !== 403 ? function () { return handleRetry(message); } : undefined },\n                        React.createElement(ErrorIcon, null),\n                        message.errorStatusCode !== 403\n                            ? t('Message Failed 路 Click to try again')\n                            : t('Message Failed 路 Unauthorized')))),\n                React.createElement(MessageStatus, { messageType: 'team' }),\n                message.text && ((_m = message.attachments) === null || _m === void 0 ? void 0 : _m.length) ? (React.createElement(Attachment, { actionHandler: handleAction, attachments: message.attachments })) : null,\n                message.latest_reactions &&\n                    message.latest_reactions.length !== 0 &&\n                    message.text === '' &&\n                    isReactionEnabled && React.createElement(ReactionsList, null),\n                !threadList && (React.createElement(MessageRepliesCountButton, { onClick: handleOpenThread, reply_count: message.reply_count }))))));\n};\nvar MemoizedMessageTeam = React.memo(MessageTeamWithContext, areMessageUIPropsEqual);\n/**\n * @deprecated - This UI component will be removed in the next major release.\n *\n * Handles the rendering of a Message and depends on the Message component for all the logic.\n * Implements the look and feel for a team style collaboration environment.\n */\nexport var MessageTeam = function (props) {\n    var messageContext = useMessageContext('MessageTeam');\n    var reactionSelectorRef = useRef(null);\n    var messageWrapperRef = useRef(null);\n    var message = props.message || messageContext.message;\n    var _a = useReactionClick(message, reactionSelectorRef, messageWrapperRef), isReactionEnabled = _a.isReactionEnabled, onReactionListClick = _a.onReactionListClick, showDetailedReactions = _a.showDetailedReactions;\n    return (React.createElement(MemoizedMessageTeam, __assign({}, messageContext, { isReactionEnabled: isReactionEnabled, messageWrapperRef: messageWrapperRef, onReactionListClick: onReactionListClick, reactionSelectorRef: reactionSelectorRef, showDetailedReactions: showDetailedReactions }, props)));\n};\n"]},"metadata":{},"sourceType":"module"}