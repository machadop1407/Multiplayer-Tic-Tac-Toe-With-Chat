{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar icons = _interopRequireWildcard(require(\"../../svgs\"));\n\nvar _store = _interopRequireDefault(require(\"../../utils/store\"));\n\nvar _frequently = _interopRequireDefault(require(\"../../utils/frequently\"));\n\nvar _utils = require(\"../../utils\");\n\nvar _data = require(\"../../utils/data\");\n\nvar _sharedProps = require(\"../../utils/shared-props\");\n\nvar _anchors = _interopRequireDefault(require(\"../anchors\"));\n\nvar _category = _interopRequireDefault(require(\"../category\"));\n\nvar _preview = _interopRequireDefault(require(\"../preview\"));\n\nvar _search = _interopRequireDefault(require(\"../search\"));\n\nvar _sharedDefaultProps = require(\"../../utils/shared-default-props\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear',\n  // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories',\n  // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nvar NimblePicker = /*#__PURE__*/function (_React$PureComponent) {\n  (0, _inherits2[\"default\"])(NimblePicker, _React$PureComponent);\n\n  function NimblePicker(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, NimblePicker);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(NimblePicker).call(this, props));\n    _this.CUSTOM = [];\n    _this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n\n    if (props.data.compressed) {\n      (0, _data.uncompress)(props.data);\n    }\n\n    _this.data = props.data;\n    _this.i18n = (0, _utils.deepMerge)(I18N, props.i18n);\n    _this.icons = (0, _utils.deepMerge)(icons, props.icons);\n    _this.state = {\n      firstRender: true\n    };\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n\n    if (props.custom.length > 0) {\n      var customCategories = {};\n      var customCategoriesCreated = 0;\n      props.custom.forEach(function (emoji) {\n        if (!customCategories[emoji.customCategory]) {\n          customCategories[emoji.customCategory] = {\n            id: emoji.customCategory ? \"custom-\".concat(emoji.customCategory) : 'custom',\n            name: emoji.customCategory || 'Custom',\n            emojis: [],\n            anchor: customCategoriesCreated === 0\n          };\n          customCategoriesCreated++;\n        }\n\n        var category = customCategories[emoji.customCategory];\n\n        var customEmoji = _objectSpread({}, emoji, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n\n        category.emojis.push(customEmoji);\n\n        _this.CUSTOM.push(customEmoji);\n      });\n      allCategories = allCategories.concat(Object.keys(customCategories).map(function (key) {\n        return customCategories[key];\n      }));\n    }\n\n    _this.hideRecent = true;\n\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n        var emojis = category.emojis;\n\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n\n    _this.setAnchorsRef = _this.setAnchorsRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleAnchorClick = _this.handleAnchorClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setSearchRef = _this.setSearchRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSearch = _this.handleSearch.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setScrollRef = _this.setScrollRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleScroll = _this.handleScroll.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleScrollPaint = _this.handleScrollPaint.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiOver = _this.handleEmojiOver.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiClick = _this.handleEmojiClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setPreviewRef = _this.setPreviewRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSkinChange = _this.handleSkinChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDarkMatchMediaChange = _this.handleDarkMatchMediaChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(NimblePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({\n            firstRender: false\n          });\n        }, 60);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n\n      if (this.darkMatchMedia) {\n        this.darkMatchMedia.removeListener(this.handleDarkMatchMediaChange);\n      }\n    }\n  }, {\n    key: \"testStickyPosition\",\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = \"\".concat(prefix, \"sticky\");\n      });\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: \"getPreferredTheme\",\n    value: function getPreferredTheme() {\n      if (this.props.theme != 'auto') return this.props.theme;\n      if (this.state.theme) return this.state.theme;\n      if (typeof matchMedia !== 'function') return _sharedDefaultProps.PickerDefaultProps.theme;\n\n      if (!this.darkMatchMedia) {\n        this.darkMatchMedia = matchMedia('(prefers-color-scheme: dark)');\n        this.darkMatchMedia.addListener(this.handleDarkMatchMediaChange);\n      }\n\n      if (this.darkMatchMedia.media.match(/^not/)) return _sharedDefaultProps.PickerDefaultProps.theme;\n      return this.darkMatchMedia.matches ? 'dark' : 'light';\n    }\n  }, {\n    key: \"handleDarkMatchMediaChange\",\n    value: function handleDarkMatchMediaChange() {\n      this.setState({\n        theme: this.darkMatchMedia.matches ? 'dark' : 'light'\n      });\n    }\n  }, {\n    key: \"handleEmojiOver\",\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      } // Use Array.prototype.find() when it is more widely supported.\n\n\n      var emojiData = this.CUSTOM.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n\n      preview.setState({\n        emoji: emoji\n      });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: \"handleEmojiLeave\",\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({\n          emoji: null\n        });\n      }, 16);\n    }\n  }, {\n    key: \"handleEmojiClick\",\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: \"handleEmojiSelect\",\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) _frequently[\"default\"].add(emoji);\n      var component = this.categoryRefs['category-1'];\n\n      if (component) {\n        var maxMargin = component.maxMargin;\n\n        if (this.props.enableFrequentEmojiSort) {\n          component.forceUpdate();\n        }\n\n        requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n\n          _this3.updateCategoriesSize();\n\n          _this3.handleScrollPaint();\n\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: \"handleScrollPaint\",\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n\n      if (!this.scroll) {\n        return;\n      }\n\n      var activeCategory = null;\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n            scrollTop = target.scrollTop,\n            scrollingDown = scrollTop > (this.scrollTop || 0),\n            minTop = 0;\n\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n              category = this.categories[ii],\n              component = this.categoryRefs[\"category-\".concat(ii)];\n\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n\n      if (activeCategory) {\n        var anchors = this.anchors,\n            _activeCategory = activeCategory,\n            categoryName = _activeCategory.name;\n\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({\n            selected: categoryName\n          });\n        }\n      }\n\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n\n      this.forceUpdate();\n\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n\n      this.handleScroll();\n    }\n  }, {\n    key: \"handleAnchorClick\",\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs[\"category-\".concat(i)],\n          scroll = this.scroll,\n          anchors = this.anchors,\n          scrollToComponent = null;\n\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n\n          scroll.scrollTop = top;\n        }\n      };\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n        requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: \"handleSkinChange\",\n    value: function handleSkinChange(skin) {\n      var newState = {\n        skin: skin\n      },\n          onSkinChange = this.props.onSkinChange;\n      this.setState(newState);\n\n      _store[\"default\"].update(newState);\n\n      onSkinChange(skin);\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var handled = false;\n\n      switch (e.keyCode) {\n        case 13:\n          var emoji;\n\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = (0, _utils.getSanitizedData)(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n            handled = true;\n          }\n\n          break;\n      }\n\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"updateCategoriesSize\",\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n        if (component) component.memoizeSize();\n      }\n\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: \"setAnchorsRef\",\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: \"setSearchRef\",\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: \"setPreviewRef\",\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: \"setScrollRef\",\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: \"setCategoryRef\",\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          perLine = _this$props.perLine,\n          emojiSize = _this$props.emojiSize,\n          set = _this$props.set,\n          sheetSize = _this$props.sheetSize,\n          sheetColumns = _this$props.sheetColumns,\n          sheetRows = _this$props.sheetRows,\n          style = _this$props.style,\n          title = _this$props.title,\n          emoji = _this$props.emoji,\n          color = _this$props.color,\n          _native = _this$props[\"native\"],\n          backgroundImageFn = _this$props.backgroundImageFn,\n          emojisToShowFilter = _this$props.emojisToShowFilter,\n          showPreview = _this$props.showPreview,\n          showSkinTones = _this$props.showSkinTones,\n          emojiTooltip = _this$props.emojiTooltip,\n          useButton = _this$props.useButton,\n          include = _this$props.include,\n          exclude = _this$props.exclude,\n          recent = _this$props.recent,\n          autoFocus = _this$props.autoFocus,\n          skinEmoji = _this$props.skinEmoji,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + (0, _utils.measureScrollbar)();\n      var theme = this.getPreferredTheme();\n      var skin = this.props.skin || this.state.skin || _store[\"default\"].get('skin') || this.props.defaultSkin;\n      return _react[\"default\"].createElement(\"section\", {\n        style: _objectSpread({\n          width: width\n        }, style),\n        className: \"emoji-mart emoji-mart-\".concat(theme),\n        \"aria-label\": title,\n        onKeyDown: this.handleKeyDown\n      }, _react[\"default\"].createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, _react[\"default\"].createElement(_anchors[\"default\"], {\n        ref: this.setAnchorsRef,\n        data: this.data,\n        i18n: this.i18n,\n        color: color,\n        categories: this.categories,\n        onAnchorClick: this.handleAnchorClick,\n        icons: this.icons\n      })), _react[\"default\"].createElement(_search[\"default\"], {\n        ref: this.setSearchRef,\n        onSearch: this.handleSearch,\n        data: this.data,\n        i18n: this.i18n,\n        emojisToShowFilter: emojisToShowFilter,\n        include: include,\n        exclude: exclude,\n        custom: this.CUSTOM,\n        autoFocus: autoFocus\n      }), _react[\"default\"].createElement(\"div\", {\n        ref: this.setScrollRef,\n        className: \"emoji-mart-scroll\",\n        onScroll: this.handleScroll\n      }, this.getCategories().map(function (category, i) {\n        return _react[\"default\"].createElement(_category[\"default\"], {\n          ref: _this4.setCategoryRef.bind(_this4, \"category-\".concat(i)),\n          key: category.name,\n          id: category.id,\n          name: category.name,\n          emojis: category.emojis,\n          perLine: perLine,\n          \"native\": _native,\n          hasStickyPosition: _this4.hasStickyPosition,\n          data: _this4.data,\n          i18n: _this4.i18n,\n          recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n          custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM : undefined,\n          emojiProps: {\n            \"native\": _native,\n            skin: skin,\n            size: emojiSize,\n            set: set,\n            sheetSize: sheetSize,\n            sheetColumns: sheetColumns,\n            sheetRows: sheetRows,\n            forceSize: _native,\n            tooltip: emojiTooltip,\n            backgroundImageFn: backgroundImageFn,\n            useButton: useButton,\n            onOver: _this4.handleEmojiOver,\n            onLeave: _this4.handleEmojiLeave,\n            onClick: _this4.handleEmojiClick\n          },\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji\n        });\n      })), (showPreview || showSkinTones) && _react[\"default\"].createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, _react[\"default\"].createElement(_preview[\"default\"], {\n        ref: this.setPreviewRef,\n        data: this.data,\n        title: title,\n        emoji: emoji,\n        showSkinTones: showSkinTones,\n        showPreview: showPreview,\n        emojiProps: {\n          \"native\": _native,\n          size: 38,\n          skin: skin,\n          set: set,\n          sheetSize: sheetSize,\n          sheetColumns: sheetColumns,\n          sheetRows: sheetRows,\n          backgroundImageFn: backgroundImageFn\n        },\n        skinsProps: {\n          skin: skin,\n          onChange: this.handleSkinChange,\n          skinEmoji: skinEmoji\n        },\n        i18n: this.i18n\n      })));\n    }\n  }]);\n  return NimblePicker;\n}(_react[\"default\"].PureComponent);\n\nexports[\"default\"] = NimblePicker;\nNimblePicker.propTypes\n/* remove-proptypes */\n= _objectSpread({}, _sharedProps.PickerPropTypes, {\n  data: _propTypes[\"default\"].object.isRequired\n});\nNimblePicker.defaultProps = _objectSpread({}, _sharedDefaultProps.PickerDefaultProps);","map":{"version":3,"sources":["/Users/pedrohenriquemachado/Documents/Projects/multi-tic-tac-toe/client/node_modules/emoji-mart/dist/components/picker/nimble-picker.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_defineProperty2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_react","_propTypes","icons","_store","_frequently","_utils","_data","_sharedProps","_anchors","_category","_preview","_search","_sharedDefaultProps","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","I18N","search","clear","notfound","skintext","categories","recent","people","nature","foods","activity","places","objects","flags","custom","categorieslabel","skintones","NimblePicker","_React$PureComponent","props","_this","call","CUSTOM","RECENT_CATEGORY","id","name","emojis","SEARCH_CATEGORY","anchor","data","compressed","uncompress","i18n","deepMerge","state","firstRender","allCategories","concat","customCategories","customCategoriesCreated","emoji","customCategory","category","customEmoji","short_names","map","hideRecent","include","undefined","sort","a","b","indexOf","categoryIndex","isIncluded","isExcluded","exclude","emojisToShowFilter","newEmojis","emojiIndex","newCategory","includeRecent","excludeRecent","unshift","first","setAnchorsRef","bind","handleAnchorClick","setSearchRef","handleSearch","setScrollRef","handleScroll","handleScrollPaint","handleEmojiOver","handleEmojiLeave","handleEmojiClick","handleEmojiSelect","setPreviewRef","handleSkinChange","handleKeyDown","handleDarkMatchMediaChange","componentDidMount","_this2","testStickyPosition","firstRenderTimeout","setTimeout","setState","componentDidUpdate","updateCategoriesSize","componentWillUnmount","clearTimeout","leaveTimeout","darkMatchMedia","removeListener","stickyTestElement","document","createElement","prefixes","prefix","style","position","hasStickyPosition","getPreferredTheme","theme","matchMedia","PickerDefaultProps","addListener","media","match","matches","preview","emojiData","hasOwnProperty","e","onClick","_this3","onSelect","add","component","categoryRefs","maxMargin","enableFrequentEmojiSort","forceUpdate","requestAnimationFrame","scroll","memoizeSize","updateDisplay","waitingForPaint","activeCategory","scrollTop","scrollingDown","minTop","l","ii","active","top","clientHeight","scrollHeight","anchors","_activeCategory","categoryName","selected","display","scrollToComponent","skin","newState","onSkinChange","update","handled","keyCode","getSanitizedData","set","preventDefault","getCategories","slice","c","setCategoryRef","render","_this4","_this$props","perLine","emojiSize","sheetSize","sheetColumns","sheetRows","title","color","_native","backgroundImageFn","showPreview","showSkinTones","emojiTooltip","useButton","autoFocus","skinEmoji","notFound","notFoundEmoji","width","measureScrollbar","get","defaultSkin","className","onKeyDown","ref","onAnchorClick","onSearch","onScroll","emojiProps","size","forceSize","tooltip","onOver","onLeave","skinsProps","onChange","PureComponent","propTypes","PickerPropTypes","isRequired","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar icons = _interopRequireWildcard(require(\"../../svgs\"));\n\nvar _store = _interopRequireDefault(require(\"../../utils/store\"));\n\nvar _frequently = _interopRequireDefault(require(\"../../utils/frequently\"));\n\nvar _utils = require(\"../../utils\");\n\nvar _data = require(\"../../utils/data\");\n\nvar _sharedProps = require(\"../../utils/shared-props\");\n\nvar _anchors = _interopRequireDefault(require(\"../anchors\"));\n\nvar _category = _interopRequireDefault(require(\"../category\"));\n\nvar _preview = _interopRequireDefault(require(\"../preview\"));\n\nvar _search = _interopRequireDefault(require(\"../search\"));\n\nvar _sharedDefaultProps = require(\"../../utils/shared-default-props\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar I18N = {\n  search: 'Search',\n  clear: 'Clear',\n  // Accessible label on \"clear\" button\n  notfound: 'No Emoji Found',\n  skintext: 'Choose your default skin tone',\n  categories: {\n    search: 'Search Results',\n    recent: 'Frequently Used',\n    people: 'Smileys & People',\n    nature: 'Animals & Nature',\n    foods: 'Food & Drink',\n    activity: 'Activity',\n    places: 'Travel & Places',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags',\n    custom: 'Custom'\n  },\n  categorieslabel: 'Emoji categories',\n  // Accessible title for the list of categories\n  skintones: {\n    1: 'Default Skin Tone',\n    2: 'Light Skin Tone',\n    3: 'Medium-Light Skin Tone',\n    4: 'Medium Skin Tone',\n    5: 'Medium-Dark Skin Tone',\n    6: 'Dark Skin Tone'\n  }\n};\n\nvar NimblePicker =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  (0, _inherits2[\"default\"])(NimblePicker, _React$PureComponent);\n\n  function NimblePicker(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, NimblePicker);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(NimblePicker).call(this, props));\n    _this.CUSTOM = [];\n    _this.RECENT_CATEGORY = {\n      id: 'recent',\n      name: 'Recent',\n      emojis: null\n    };\n    _this.SEARCH_CATEGORY = {\n      id: 'search',\n      name: 'Search',\n      emojis: null,\n      anchor: false\n    };\n\n    if (props.data.compressed) {\n      (0, _data.uncompress)(props.data);\n    }\n\n    _this.data = props.data;\n    _this.i18n = (0, _utils.deepMerge)(I18N, props.i18n);\n    _this.icons = (0, _utils.deepMerge)(icons, props.icons);\n    _this.state = {\n      firstRender: true\n    };\n    _this.categories = [];\n    var allCategories = [].concat(_this.data.categories);\n\n    if (props.custom.length > 0) {\n      var customCategories = {};\n      var customCategoriesCreated = 0;\n      props.custom.forEach(function (emoji) {\n        if (!customCategories[emoji.customCategory]) {\n          customCategories[emoji.customCategory] = {\n            id: emoji.customCategory ? \"custom-\".concat(emoji.customCategory) : 'custom',\n            name: emoji.customCategory || 'Custom',\n            emojis: [],\n            anchor: customCategoriesCreated === 0\n          };\n          customCategoriesCreated++;\n        }\n\n        var category = customCategories[emoji.customCategory];\n\n        var customEmoji = _objectSpread({}, emoji, {\n          // `<Category />` expects emoji to have an `id`.\n          id: emoji.short_names[0],\n          custom: true\n        });\n\n        category.emojis.push(customEmoji);\n\n        _this.CUSTOM.push(customEmoji);\n      });\n      allCategories = allCategories.concat(Object.keys(customCategories).map(function (key) {\n        return customCategories[key];\n      }));\n    }\n\n    _this.hideRecent = true;\n\n    if (props.include != undefined) {\n      allCategories.sort(function (a, b) {\n        if (props.include.indexOf(a.id) > props.include.indexOf(b.id)) {\n          return 1;\n        }\n\n        return -1;\n      });\n    }\n\n    for (var categoryIndex = 0; categoryIndex < allCategories.length; categoryIndex++) {\n      var category = allCategories[categoryIndex];\n      var isIncluded = props.include && props.include.length ? props.include.indexOf(category.id) > -1 : true;\n      var isExcluded = props.exclude && props.exclude.length ? props.exclude.indexOf(category.id) > -1 : false;\n\n      if (!isIncluded || isExcluded) {\n        continue;\n      }\n\n      if (props.emojisToShowFilter) {\n        var newEmojis = [];\n        var emojis = category.emojis;\n\n        for (var emojiIndex = 0; emojiIndex < emojis.length; emojiIndex++) {\n          var emoji = emojis[emojiIndex];\n\n          if (props.emojisToShowFilter(_this.data.emojis[emoji] || emoji)) {\n            newEmojis.push(emoji);\n          }\n        }\n\n        if (newEmojis.length) {\n          var newCategory = {\n            emojis: newEmojis,\n            name: category.name,\n            id: category.id\n          };\n\n          _this.categories.push(newCategory);\n        }\n      } else {\n        _this.categories.push(category);\n      }\n    }\n\n    var includeRecent = props.include && props.include.length ? props.include.indexOf(_this.RECENT_CATEGORY.id) > -1 : true;\n    var excludeRecent = props.exclude && props.exclude.length ? props.exclude.indexOf(_this.RECENT_CATEGORY.id) > -1 : false;\n\n    if (includeRecent && !excludeRecent) {\n      _this.hideRecent = false;\n\n      _this.categories.unshift(_this.RECENT_CATEGORY);\n    }\n\n    if (_this.categories[0]) {\n      _this.categories[0].first = true;\n    }\n\n    _this.categories.unshift(_this.SEARCH_CATEGORY);\n\n    _this.setAnchorsRef = _this.setAnchorsRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleAnchorClick = _this.handleAnchorClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setSearchRef = _this.setSearchRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSearch = _this.handleSearch.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setScrollRef = _this.setScrollRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleScroll = _this.handleScroll.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleScrollPaint = _this.handleScrollPaint.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiOver = _this.handleEmojiOver.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiLeave = _this.handleEmojiLeave.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiClick = _this.handleEmojiClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmojiSelect = _this.handleEmojiSelect.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setPreviewRef = _this.setPreviewRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSkinChange = _this.handleSkinChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDarkMatchMediaChange = _this.handleDarkMatchMediaChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(NimblePicker, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.firstRender) {\n        this.testStickyPosition();\n        this.firstRenderTimeout = setTimeout(function () {\n          _this2.setState({\n            firstRender: false\n          });\n        }, 60);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateCategoriesSize();\n      this.handleScroll();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.SEARCH_CATEGORY.emojis = null;\n      clearTimeout(this.leaveTimeout);\n      clearTimeout(this.firstRenderTimeout);\n\n      if (this.darkMatchMedia) {\n        this.darkMatchMedia.removeListener(this.handleDarkMatchMediaChange);\n      }\n    }\n  }, {\n    key: \"testStickyPosition\",\n    value: function testStickyPosition() {\n      var stickyTestElement = document.createElement('div');\n      var prefixes = ['', '-webkit-', '-ms-', '-moz-', '-o-'];\n      prefixes.forEach(function (prefix) {\n        return stickyTestElement.style.position = \"\".concat(prefix, \"sticky\");\n      });\n      this.hasStickyPosition = !!stickyTestElement.style.position.length;\n    }\n  }, {\n    key: \"getPreferredTheme\",\n    value: function getPreferredTheme() {\n      if (this.props.theme != 'auto') return this.props.theme;\n      if (this.state.theme) return this.state.theme;\n      if (typeof matchMedia !== 'function') return _sharedDefaultProps.PickerDefaultProps.theme;\n\n      if (!this.darkMatchMedia) {\n        this.darkMatchMedia = matchMedia('(prefers-color-scheme: dark)');\n        this.darkMatchMedia.addListener(this.handleDarkMatchMediaChange);\n      }\n\n      if (this.darkMatchMedia.media.match(/^not/)) return _sharedDefaultProps.PickerDefaultProps.theme;\n      return this.darkMatchMedia.matches ? 'dark' : 'light';\n    }\n  }, {\n    key: \"handleDarkMatchMediaChange\",\n    value: function handleDarkMatchMediaChange() {\n      this.setState({\n        theme: this.darkMatchMedia.matches ? 'dark' : 'light'\n      });\n    }\n  }, {\n    key: \"handleEmojiOver\",\n    value: function handleEmojiOver(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      } // Use Array.prototype.find() when it is more widely supported.\n\n\n      var emojiData = this.CUSTOM.filter(function (customEmoji) {\n        return customEmoji.id === emoji.id;\n      })[0];\n\n      for (var key in emojiData) {\n        if (emojiData.hasOwnProperty(key)) {\n          emoji[key] = emojiData[key];\n        }\n      }\n\n      preview.setState({\n        emoji: emoji\n      });\n      clearTimeout(this.leaveTimeout);\n    }\n  }, {\n    key: \"handleEmojiLeave\",\n    value: function handleEmojiLeave(emoji) {\n      var preview = this.preview;\n\n      if (!preview) {\n        return;\n      }\n\n      this.leaveTimeout = setTimeout(function () {\n        preview.setState({\n          emoji: null\n        });\n      }, 16);\n    }\n  }, {\n    key: \"handleEmojiClick\",\n    value: function handleEmojiClick(emoji, e) {\n      this.props.onClick(emoji, e);\n      this.handleEmojiSelect(emoji);\n    }\n  }, {\n    key: \"handleEmojiSelect\",\n    value: function handleEmojiSelect(emoji) {\n      var _this3 = this;\n\n      this.props.onSelect(emoji);\n      if (!this.hideRecent && !this.props.recent) _frequently[\"default\"].add(emoji);\n      var component = this.categoryRefs['category-1'];\n\n      if (component) {\n        var maxMargin = component.maxMargin;\n\n        if (this.props.enableFrequentEmojiSort) {\n          component.forceUpdate();\n        }\n\n        requestAnimationFrame(function () {\n          if (!_this3.scroll) return;\n          component.memoizeSize();\n          if (maxMargin == component.maxMargin) return;\n\n          _this3.updateCategoriesSize();\n\n          _this3.handleScrollPaint();\n\n          if (_this3.SEARCH_CATEGORY.emojis) {\n            component.updateDisplay('none');\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll() {\n      if (!this.waitingForPaint) {\n        this.waitingForPaint = true;\n        requestAnimationFrame(this.handleScrollPaint);\n      }\n    }\n  }, {\n    key: \"handleScrollPaint\",\n    value: function handleScrollPaint() {\n      this.waitingForPaint = false;\n\n      if (!this.scroll) {\n        return;\n      }\n\n      var activeCategory = null;\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        activeCategory = this.SEARCH_CATEGORY;\n      } else {\n        var target = this.scroll,\n            scrollTop = target.scrollTop,\n            scrollingDown = scrollTop > (this.scrollTop || 0),\n            minTop = 0;\n\n        for (var i = 0, l = this.categories.length; i < l; i++) {\n          var ii = scrollingDown ? this.categories.length - 1 - i : i,\n              category = this.categories[ii],\n              component = this.categoryRefs[\"category-\".concat(ii)];\n\n          if (component) {\n            var active = component.handleScroll(scrollTop);\n\n            if (!minTop || component.top < minTop) {\n              if (component.top > 0) {\n                minTop = component.top;\n              }\n            }\n\n            if (active && !activeCategory) {\n              activeCategory = category;\n            }\n          }\n        }\n\n        if (scrollTop < minTop) {\n          activeCategory = this.categories.filter(function (category) {\n            return !(category.anchor === false);\n          })[0];\n        } else if (scrollTop + this.clientHeight >= this.scrollHeight) {\n          activeCategory = this.categories[this.categories.length - 1];\n        }\n      }\n\n      if (activeCategory) {\n        var anchors = this.anchors,\n            _activeCategory = activeCategory,\n            categoryName = _activeCategory.name;\n\n        if (anchors.state.selected != categoryName) {\n          anchors.setState({\n            selected: categoryName\n          });\n        }\n      }\n\n      this.scrollTop = scrollTop;\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(emojis) {\n      this.SEARCH_CATEGORY.emojis = emojis;\n\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n\n        if (component && component.props.name != 'Search') {\n          var display = emojis ? 'none' : 'inherit';\n          component.updateDisplay(display);\n        }\n      }\n\n      this.forceUpdate();\n\n      if (this.scroll) {\n        this.scroll.scrollTop = 0;\n      }\n\n      this.handleScroll();\n    }\n  }, {\n    key: \"handleAnchorClick\",\n    value: function handleAnchorClick(category, i) {\n      var component = this.categoryRefs[\"category-\".concat(i)],\n          scroll = this.scroll,\n          anchors = this.anchors,\n          scrollToComponent = null;\n\n      scrollToComponent = function scrollToComponent() {\n        if (component) {\n          var top = component.top;\n\n          if (category.first) {\n            top = 0;\n          } else {\n            top += 1;\n          }\n\n          scroll.scrollTop = top;\n        }\n      };\n\n      if (this.SEARCH_CATEGORY.emojis) {\n        this.handleSearch(null);\n        this.search.clear();\n        requestAnimationFrame(scrollToComponent);\n      } else {\n        scrollToComponent();\n      }\n    }\n  }, {\n    key: \"handleSkinChange\",\n    value: function handleSkinChange(skin) {\n      var newState = {\n        skin: skin\n      },\n          onSkinChange = this.props.onSkinChange;\n      this.setState(newState);\n\n      _store[\"default\"].update(newState);\n\n      onSkinChange(skin);\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var handled = false;\n\n      switch (e.keyCode) {\n        case 13:\n          var emoji;\n\n          if (this.SEARCH_CATEGORY.emojis && this.SEARCH_CATEGORY.emojis.length && (emoji = (0, _utils.getSanitizedData)(this.SEARCH_CATEGORY.emojis[0], this.state.skin, this.props.set, this.props.data))) {\n            this.handleEmojiSelect(emoji);\n            handled = true;\n          }\n\n          break;\n      }\n\n      if (handled) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"updateCategoriesSize\",\n    value: function updateCategoriesSize() {\n      for (var i = 0, l = this.categories.length; i < l; i++) {\n        var component = this.categoryRefs[\"category-\".concat(i)];\n        if (component) component.memoizeSize();\n      }\n\n      if (this.scroll) {\n        var target = this.scroll;\n        this.scrollHeight = target.scrollHeight;\n        this.clientHeight = target.clientHeight;\n      }\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      return this.state.firstRender ? this.categories.slice(0, 3) : this.categories;\n    }\n  }, {\n    key: \"setAnchorsRef\",\n    value: function setAnchorsRef(c) {\n      this.anchors = c;\n    }\n  }, {\n    key: \"setSearchRef\",\n    value: function setSearchRef(c) {\n      this.search = c;\n    }\n  }, {\n    key: \"setPreviewRef\",\n    value: function setPreviewRef(c) {\n      this.preview = c;\n    }\n  }, {\n    key: \"setScrollRef\",\n    value: function setScrollRef(c) {\n      this.scroll = c;\n    }\n  }, {\n    key: \"setCategoryRef\",\n    value: function setCategoryRef(name, c) {\n      if (!this.categoryRefs) {\n        this.categoryRefs = {};\n      }\n\n      this.categoryRefs[name] = c;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          perLine = _this$props.perLine,\n          emojiSize = _this$props.emojiSize,\n          set = _this$props.set,\n          sheetSize = _this$props.sheetSize,\n          sheetColumns = _this$props.sheetColumns,\n          sheetRows = _this$props.sheetRows,\n          style = _this$props.style,\n          title = _this$props.title,\n          emoji = _this$props.emoji,\n          color = _this$props.color,\n          _native = _this$props[\"native\"],\n          backgroundImageFn = _this$props.backgroundImageFn,\n          emojisToShowFilter = _this$props.emojisToShowFilter,\n          showPreview = _this$props.showPreview,\n          showSkinTones = _this$props.showSkinTones,\n          emojiTooltip = _this$props.emojiTooltip,\n          useButton = _this$props.useButton,\n          include = _this$props.include,\n          exclude = _this$props.exclude,\n          recent = _this$props.recent,\n          autoFocus = _this$props.autoFocus,\n          skinEmoji = _this$props.skinEmoji,\n          notFound = _this$props.notFound,\n          notFoundEmoji = _this$props.notFoundEmoji;\n      var width = perLine * (emojiSize + 12) + 12 + 2 + (0, _utils.measureScrollbar)();\n      var theme = this.getPreferredTheme();\n      var skin = this.props.skin || this.state.skin || _store[\"default\"].get('skin') || this.props.defaultSkin;\n      return _react[\"default\"].createElement(\"section\", {\n        style: _objectSpread({\n          width: width\n        }, style),\n        className: \"emoji-mart emoji-mart-\".concat(theme),\n        \"aria-label\": title,\n        onKeyDown: this.handleKeyDown\n      }, _react[\"default\"].createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, _react[\"default\"].createElement(_anchors[\"default\"], {\n        ref: this.setAnchorsRef,\n        data: this.data,\n        i18n: this.i18n,\n        color: color,\n        categories: this.categories,\n        onAnchorClick: this.handleAnchorClick,\n        icons: this.icons\n      })), _react[\"default\"].createElement(_search[\"default\"], {\n        ref: this.setSearchRef,\n        onSearch: this.handleSearch,\n        data: this.data,\n        i18n: this.i18n,\n        emojisToShowFilter: emojisToShowFilter,\n        include: include,\n        exclude: exclude,\n        custom: this.CUSTOM,\n        autoFocus: autoFocus\n      }), _react[\"default\"].createElement(\"div\", {\n        ref: this.setScrollRef,\n        className: \"emoji-mart-scroll\",\n        onScroll: this.handleScroll\n      }, this.getCategories().map(function (category, i) {\n        return _react[\"default\"].createElement(_category[\"default\"], {\n          ref: _this4.setCategoryRef.bind(_this4, \"category-\".concat(i)),\n          key: category.name,\n          id: category.id,\n          name: category.name,\n          emojis: category.emojis,\n          perLine: perLine,\n          \"native\": _native,\n          hasStickyPosition: _this4.hasStickyPosition,\n          data: _this4.data,\n          i18n: _this4.i18n,\n          recent: category.id == _this4.RECENT_CATEGORY.id ? recent : undefined,\n          custom: category.id == _this4.RECENT_CATEGORY.id ? _this4.CUSTOM : undefined,\n          emojiProps: {\n            \"native\": _native,\n            skin: skin,\n            size: emojiSize,\n            set: set,\n            sheetSize: sheetSize,\n            sheetColumns: sheetColumns,\n            sheetRows: sheetRows,\n            forceSize: _native,\n            tooltip: emojiTooltip,\n            backgroundImageFn: backgroundImageFn,\n            useButton: useButton,\n            onOver: _this4.handleEmojiOver,\n            onLeave: _this4.handleEmojiLeave,\n            onClick: _this4.handleEmojiClick\n          },\n          notFound: notFound,\n          notFoundEmoji: notFoundEmoji\n        });\n      })), (showPreview || showSkinTones) && _react[\"default\"].createElement(\"div\", {\n        className: \"emoji-mart-bar\"\n      }, _react[\"default\"].createElement(_preview[\"default\"], {\n        ref: this.setPreviewRef,\n        data: this.data,\n        title: title,\n        emoji: emoji,\n        showSkinTones: showSkinTones,\n        showPreview: showPreview,\n        emojiProps: {\n          \"native\": _native,\n          size: 38,\n          skin: skin,\n          set: set,\n          sheetSize: sheetSize,\n          sheetColumns: sheetColumns,\n          sheetRows: sheetRows,\n          backgroundImageFn: backgroundImageFn\n        },\n        skinsProps: {\n          skin: skin,\n          onChange: this.handleSkinChange,\n          skinEmoji: skinEmoji\n        },\n        i18n: this.i18n\n      })));\n    }\n  }]);\n  return NimblePicker;\n}(_react[\"default\"].PureComponent);\n\nexports[\"default\"] = NimblePicker;\nNimblePicker.propTypes\n/* remove-proptypes */\n= _objectSpread({}, _sharedProps.PickerPropTypes, {\n  data: _propTypes[\"default\"].object.isRequired\n});\nNimblePicker.defaultProps = _objectSpread({}, _sharedDefaultProps.PickerDefaultProps);"]},"metadata":{},"sourceType":"script"}